<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>sprit.sprit_plot API documentation</title>
<meta name="description" content="">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>sprit.sprit_plot</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="sprit.sprit_plot.parse_plot_string"><code class="name flex">
<span>def <span class="ident">parse_plot_string</span></span>(<span>plot_string)</span>
</code></dt>
<dd>
<div class="desc"><p>Function to parse a plot string into a list readable by plotting functions</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>plot_string</code></strong> :&ensp;<code>str</code></dt>
<dd>Plot string used by sprit.plot_hvsr to define results plot</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>list</code></dt>
<dd>A list readable by various sprit plotting functions to show what to include in the results plot.</dd>
</dl></div>
</dd>
<dt id="sprit.sprit_plot.plot_cross_section"><code class="name flex">
<span>def <span class="ident">plot_cross_section</span></span>(<span>hvsr_data, title=None, fig=None, ax=None, use_elevation=True, show_feet=False, primary_unit='m', show_curves=True, annotate_curves=False, curve_alignment='peak', grid_size='auto', orientation='WE', interpolation_type='cloughtocher', interpolate_log_values=True, surface_elevations=None, show_peak_points=True, smooth_bedrock_surface=False, depth_limit=150, minimum_elevation=None, show_bedrock_surface=True, return_data_batch=True, show_cross_section=True, verbose=False, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Functio to plot a cross section given an HVSRBatch or similar object</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>hvsr_data</code></strong> :&ensp;<code>HVSRBatch, list,</code> or <code>similar</code></dt>
<dd>HVSRBatch (intended usage) object with HVSRData objects to show in profile/cross section view</dd>
<dt><strong><code>title</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Title to use for plot, by default None</dd>
<dt><strong><code>fig</code></strong> :&ensp;<code>matplotlib.Figure</code>, optional</dt>
<dd>Figure to use for plot, by default None</dd>
<dt><strong><code>ax</code></strong> :&ensp;<code>matplotlib.Axis</code>, optional</dt>
<dd>Axis to use for plot, by default None</dd>
<dt><strong><code>use_elevation</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to use elevation (if True) or depth (if False), by default True</dd>
<dt><strong><code>show_feet</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to show feet (if True) or meters (if False), by default False</dd>
<dt><strong><code>primary_unit</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Primary unit to use ('m' or 'ft'), by default 'm'</dd>
<dt><strong><code>show_curves</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to also show curves on plot, by default True</dd>
<dt><strong><code>annotate_curves</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to annotate curves by plotting site names next to them, by default False</dd>
<dt><strong><code>curve_alignment</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>How to horizontally align the curve.
If "peak" the curve will be aligned so that the peak is at the correct latitude or longitude.
If "max" will align the maximum point of the curve to the correct location.
If any other value, will align at the surface (i.e., highest frequency). By default 'peak'.</dd>
<dt><strong><code>grid_size</code></strong> :&ensp;<code>list</code>, optional</dt>
<dd>Two item list with height and width of grid for interpolation.
If "auto" this will be calculated based on the data, by default 'auto'.</dd>
<dt><strong><code>orientation</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The orientation of the cross section.
Should be either "WE", "EW", "NS", or "SN", by default 'WE'.</dd>
<dt><strong><code>interpolation_type</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Interpolation type to use. Uses scipy.interpolation.
Options include: 'cloughtocher', 'nearest neighbor', 'linear',
or 'radial basis function', by default 'cloughtocher'.</dd>
<dt><strong><code>interpolate_log_values</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to use log values of the H/V curve for interpolation (can be useful for better normalizing data)</dd>
<dt><strong><code>surface_elevations</code></strong> :&ensp;<code>shapely.LineString</code>, optional</dt>
<dd>A shapely.LineString object containing surface elevation coordinates along cross section path.
If None, uses elevation data in HVSRBatch specified by hvsr_data, by default None.</dd>
<dt><strong><code>show_peak_points</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to plot small triangles where peaks were picked, by default True</dd>
<dt><strong><code>smooth_bedrock_surface</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to smooth the bedrock surface when plotting, by default False</dd>
<dt><strong><code>depth_limit</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Depth limit for the plot, by default 150</dd>
<dt><strong><code>minimum_elevation</code></strong> :&ensp;<code>_type_</code>, optional</dt>
<dd>Minimum elevation of the plot, by default None</dd>
<dt><strong><code>show_bedrock_surface</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to show the bedrock surface, by default True</dd>
<dt><strong><code>return_data_batch</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to return the HVSRBatch object, by default True</dd>
<dt><strong><code>show_cross_section</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to show the cross section plot, by default True</dd>
<dt><strong><code>verbose</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to print information about the process to terminal, by default False</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>figure</code></dt>
<dd>Currently only matplotlib figure supported</dd>
</dl></div>
</dd>
<dt id="sprit.sprit_plot.plot_depth_curve"><code class="name flex">
<span>def <span class="ident">plot_depth_curve</span></span>(<span>hvsr_results, use_elevation=True, show_feet=False, normalize_curve=True, depth_limit=250, max_elev=None, min_elev=None, annotate=True, depth_plot_export_path=None, fig=None, ax=None, show_depth_curve=True)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="sprit.sprit_plot.plot_input_stream"><code class="name flex">
<span>def <span class="ident">plot_input_stream</span></span>(<span>hv_data, stream=None, input_fig=None, plot_engine='plotly', spectrogram_component='Z', decimate=True, show_plot=True, return_fig=False, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Function to plot input stream using plotly.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>hv_data</code></strong> :&ensp;<code>HVSRData</code></dt>
<dd>&nbsp;</dd>
<dt><strong><code>stream</code></strong> :&ensp;<code>obspy.stream.Stream</code></dt>
<dd>Can explictly specify stream instead of using hv_data object.</dd>
<dt><strong><code>input_fig</code></strong> :&ensp;<code>plotly.Figure</code></dt>
<dd>Plotly figure to plot input stream on. If None, creates new one. Default is None.</dd>
<dt><strong><code>spectrogram_component</code></strong> :&ensp;<code>str</code>, default=<code>'Z'</code></dt>
<dd>Which component to use for the spectrogram</dd>
<dt><strong><code>show_plot</code></strong> :&ensp;<code>bool</code>, default=<code>True</code></dt>
<dd>Whether to show plot or just generate it.</dd>
<dt><strong><code>return_fig</code></strong> :&ensp;<code>bool</code>, default=<code>False</code></dt>
<dd>Whether to return figure</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>plotly figure</code></dt>
<dd>Only returned if return_fig is True</dd>
</dl></div>
</dd>
<dt id="sprit.sprit_plot.plot_outlier_curves"><code class="name flex">
<span>def <span class="ident">plot_outlier_curves</span></span>(<span>hvsr_data, plot_engine='plotly', plotly_module='go', remove_outliers_during_plot=False, rmse_thresh=0.98, use_percentile=True, use_hv_curve=False, from_roc=False, show_plot=True, verbose=False, discarded_curves=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Functio to plot outlier curves, including which have been excluded</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>hvsr_data</code></strong> :&ensp;<code>HVSRData</code></dt>
<dd>Input data object</dd>
<dt><strong><code>plot_engine</code></strong> :&ensp;<code>str = {'plotly', 'matplotlib'}</code></dt>
<dd>Which plotting library to use, by default 'plotly'</dd>
<dt><strong><code>plotly_module</code></strong> :&ensp;<code>str = {'go', 'px'}</code></dt>
<dd>Which plotly module to use if applicable, by default 'go'</dd>
<dt><strong><code>remove_outliers_during_plot</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether curves should also be removed when plotted. During sprit.run(), removal happens separately, so this is False.</dd>
<dt><strong><code>rmse_thresh</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>RMSE threshold (for removing outliers), by default 0.98</dd>
<dt><strong><code>use_percentile</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to use percentile or raw value, by default True</dd>
<dt><strong><code>use_hv_curve</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to perform analysis on HV curves (if True) or PSD curves (if False), by default False</dd>
<dt><strong><code>from_roc</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Helper parameter to determine if this is being called from sprit.remove_outlier_curves function, by default False</dd>
<dt><strong><code>show_plot</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to show plot, by default True</dd>
<dt><strong><code>verbose</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to print information to terminal, by default False</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>plotly figure</code></dt>
<dd>Figure type depends on plotly_module</dd>
</dl></div>
</dd>
<dt id="sprit.sprit_plot.plot_results"><code class="name flex">
<span>def <span class="ident">plot_results</span></span>(<span>hv_data, plot_string='HVSR p ann C+ p SPEC ann', azimuth='HV', results_fig=None, results_graph_widget=None, use_figure_widget=False, return_fig=False, show_results_plot=False, html_plot=False, verbose=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Function to plot results using plotly</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>hv_data</code></strong> :&ensp;<code><a title="sprit.HVSRData" href="index.html#sprit.HVSRData">HVSRData</a></code></dt>
<dd>Data object to use for plotting</dd>
<dt><strong><code>plot_string</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>String for designating what to include in plot(s), by default 'HVSR p ann C+ p SPEC ann'</dd>
<dt><strong><code>results_fig</code></strong> :&ensp;<code>pyplot figure</code>, optional</dt>
<dd>Which pyplot figure to plot data onto. If None, makes new figure, by default None.</dd>
<dt><strong><code>results_graph_widget</code></strong> :&ensp;<code>plotly graph object widget</code>, optional</dt>
<dd>Which pyplot figure to plot data onto. If None, makes new widget, if applicable, by default None.</dd>
<dt><strong><code>use_figure_widget</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to use figure widget, by default False</dd>
<dt><strong><code>return_fig</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to return figure, by default False</dd>
<dt><strong><code>show_results_plot</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Wheather to show plot, by default False</dd>
<dt><strong><code>html_plot</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to create an HTML version of the plot, by default False</dd>
<dt><strong><code>verbose</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to print information to terminal, by default False</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>plotly figure</code></dt>
<dd>Only if return_fig is True.</dd>
</dl></div>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="sprit" href="index.html">sprit</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="sprit.sprit_plot.parse_plot_string" href="#sprit.sprit_plot.parse_plot_string">parse_plot_string</a></code></li>
<li><code><a title="sprit.sprit_plot.plot_cross_section" href="#sprit.sprit_plot.plot_cross_section">plot_cross_section</a></code></li>
<li><code><a title="sprit.sprit_plot.plot_depth_curve" href="#sprit.sprit_plot.plot_depth_curve">plot_depth_curve</a></code></li>
<li><code><a title="sprit.sprit_plot.plot_input_stream" href="#sprit.sprit_plot.plot_input_stream">plot_input_stream</a></code></li>
<li><code><a title="sprit.sprit_plot.plot_outlier_curves" href="#sprit.sprit_plot.plot_outlier_curves">plot_outlier_curves</a></code></li>
<li><code><a title="sprit.sprit_plot.plot_results" href="#sprit.sprit_plot.plot_results">plot_results</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
