<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>sprit.sprit_hvsr module &mdash; sprit 0.1.78-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="documentation_options.js?v=29b362bb"></script>
        <script src="doctools.js?v=9a2dae69"></script>
        <script src="sphinx_highlight.js?v=dc90522c"></script>
    <script src="theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="sprit.sprit_jupyter_UI module" href="sprit.sprit_jupyter_UI.html" />
    <link rel="prev" title="sprit.sprit_gui module" href="sprit.sprit_gui.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            sprit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="sprit.html">sprit package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.HVSRBatch"><code class="docutils literal notranslate"><span class="pre">HVSRBatch</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.HVSRData"><code class="docutils literal notranslate"><span class="pre">HVSRData</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.assert_check"><code class="docutils literal notranslate"><span class="pre">assert_check()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.batch_data_read"><code class="docutils literal notranslate"><span class="pre">batch_data_read()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.calculate_azimuth"><code class="docutils literal notranslate"><span class="pre">calculate_azimuth()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.catch_errors"><code class="docutils literal notranslate"><span class="pre">catch_errors()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.check_gui_requirements"><code class="docutils literal notranslate"><span class="pre">check_gui_requirements()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.check_mark"><code class="docutils literal notranslate"><span class="pre">check_mark()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.check_peaks"><code class="docutils literal notranslate"><span class="pre">check_peaks()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.check_tsteps"><code class="docutils literal notranslate"><span class="pre">check_tsteps()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.check_xvalues"><code class="docutils literal notranslate"><span class="pre">check_xvalues()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.checkifpath"><code class="docutils literal notranslate"><span class="pre">checkifpath()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.create_jupyter_ui"><code class="docutils literal notranslate"><span class="pre">create_jupyter_ui()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.export_data"><code class="docutils literal notranslate"><span class="pre">export_data()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.export_settings"><code class="docutils literal notranslate"><span class="pre">export_settings()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.fetch_data"><code class="docutils literal notranslate"><span class="pre">fetch_data()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.format_time"><code class="docutils literal notranslate"><span class="pre">format_time()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.generate_ppsds"><code class="docutils literal notranslate"><span class="pre">generate_ppsds()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.get_char"><code class="docutils literal notranslate"><span class="pre">get_char()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.get_metadata"><code class="docutils literal notranslate"><span class="pre">get_metadata()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.get_report"><code class="docutils literal notranslate"><span class="pre">get_report()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.gui"><code class="docutils literal notranslate"><span class="pre">gui()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.has_required_channels"><code class="docutils literal notranslate"><span class="pre">has_required_channels()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.import_data"><code class="docutils literal notranslate"><span class="pre">import_data()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.import_settings"><code class="docutils literal notranslate"><span class="pre">import_settings()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.input_params"><code class="docutils literal notranslate"><span class="pre">input_params()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.make_it_classy"><code class="docutils literal notranslate"><span class="pre">make_it_classy()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.plot_azimuth"><code class="docutils literal notranslate"><span class="pre">plot_azimuth()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.plot_hvsr"><code class="docutils literal notranslate"><span class="pre">plot_hvsr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.process_hvsr"><code class="docutils literal notranslate"><span class="pre">process_hvsr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.read_from_RS"><code class="docutils literal notranslate"><span class="pre">read_from_RS()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.read_tromino_files"><code class="docutils literal notranslate"><span class="pre">read_tromino_files()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.remove_noise"><code class="docutils literal notranslate"><span class="pre">remove_noise()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.remove_outlier_curves"><code class="docutils literal notranslate"><span class="pre">remove_outlier_curves()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.run"><code class="docutils literal notranslate"><span class="pre">run()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.time_it"><code class="docutils literal notranslate"><span class="pre">time_it()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="sprit.html#sprit.x_mark"><code class="docutils literal notranslate"><span class="pre">x_mark()</span></code></a></li>
<li class="toctree-l2 current"><a class="reference internal" href="sprit.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="sprit.sprit_cli.html">sprit.sprit_cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="sprit.sprit_gui.html">sprit.sprit_gui module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">sprit.sprit_hvsr module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch"><code class="docutils literal notranslate"><span class="pre">HVSRBatch</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData"><code class="docutils literal notranslate"><span class="pre">HVSRData</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.batch_data_read"><code class="docutils literal notranslate"><span class="pre">batch_data_read()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.calculate_azimuth"><code class="docutils literal notranslate"><span class="pre">calculate_azimuth()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.check_instance"><code class="docutils literal notranslate"><span class="pre">check_instance()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.check_peaks"><code class="docutils literal notranslate"><span class="pre">check_peaks()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.export_data"><code class="docutils literal notranslate"><span class="pre">export_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.export_settings"><code class="docutils literal notranslate"><span class="pre">export_settings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.fetch_data"><code class="docutils literal notranslate"><span class="pre">fetch_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.generate_ppsds"><code class="docutils literal notranslate"><span class="pre">generate_ppsds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.get_metadata"><code class="docutils literal notranslate"><span class="pre">get_metadata()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.get_report"><code class="docutils literal notranslate"><span class="pre">get_report()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.gui"><code class="docutils literal notranslate"><span class="pre">gui()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.gui_test"><code class="docutils literal notranslate"><span class="pre">gui_test()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.import_data"><code class="docutils literal notranslate"><span class="pre">import_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.import_settings"><code class="docutils literal notranslate"><span class="pre">import_settings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.input_params"><code class="docutils literal notranslate"><span class="pre">input_params()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.plot_azimuth"><code class="docutils literal notranslate"><span class="pre">plot_azimuth()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.plot_hvsr"><code class="docutils literal notranslate"><span class="pre">plot_hvsr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.plot_stream"><code class="docutils literal notranslate"><span class="pre">plot_stream()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.process_hvsr"><code class="docutils literal notranslate"><span class="pre">process_hvsr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.read_tromino_files"><code class="docutils literal notranslate"><span class="pre">read_tromino_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.remove_noise"><code class="docutils literal notranslate"><span class="pre">remove_noise()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.remove_outlier_curves"><code class="docutils literal notranslate"><span class="pre">remove_outlier_curves()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.run"><code class="docutils literal notranslate"><span class="pre">run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprit.sprit_hvsr.test_function"><code class="docutils literal notranslate"><span class="pre">test_function()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sprit.sprit_jupyter_UI.html">sprit.sprit_jupyter_UI module</a></li>
<li class="toctree-l3"><a class="reference internal" href="sprit.sprit_utils.html">sprit.sprit_utils module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">sprit.sprit_hvsr module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch"><code class="docutils literal notranslate"><span class="pre">HVSRBatch</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.copy"><code class="docutils literal notranslate"><span class="pre">HVSRBatch.copy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.export"><code class="docutils literal notranslate"><span class="pre">HVSRBatch.export()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.export_settings"><code class="docutils literal notranslate"><span class="pre">HVSRBatch.export_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.get_report"><code class="docutils literal notranslate"><span class="pre">HVSRBatch.get_report()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.items"><code class="docutils literal notranslate"><span class="pre">HVSRBatch.items()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.keys"><code class="docutils literal notranslate"><span class="pre">HVSRBatch.keys()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.plot"><code class="docutils literal notranslate"><span class="pre">HVSRBatch.plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.report"><code class="docutils literal notranslate"><span class="pre">HVSRBatch.report()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData"><code class="docutils literal notranslate"><span class="pre">HVSRData</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.batch"><code class="docutils literal notranslate"><span class="pre">HVSRData.batch</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.copy"><code class="docutils literal notranslate"><span class="pre">HVSRData.copy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.datastream"><code class="docutils literal notranslate"><span class="pre">HVSRData.datastream</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.export"><code class="docutils literal notranslate"><span class="pre">HVSRData.export()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.export_settings"><code class="docutils literal notranslate"><span class="pre">HVSRData.export_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.get_report"><code class="docutils literal notranslate"><span class="pre">HVSRData.get_report()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.items"><code class="docutils literal notranslate"><span class="pre">HVSRData.items()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.keys"><code class="docutils literal notranslate"><span class="pre">HVSRData.keys()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.params"><code class="docutils literal notranslate"><span class="pre">HVSRData.params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.plot"><code class="docutils literal notranslate"><span class="pre">HVSRData.plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.ppsds"><code class="docutils literal notranslate"><span class="pre">HVSRData.ppsds</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.ppsds_obspy"><code class="docutils literal notranslate"><span class="pre">HVSRData.ppsds_obspy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.report"><code class="docutils literal notranslate"><span class="pre">HVSRData.report()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.batch_data_read"><code class="docutils literal notranslate"><span class="pre">batch_data_read()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.calculate_azimuth"><code class="docutils literal notranslate"><span class="pre">calculate_azimuth()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.check_instance"><code class="docutils literal notranslate"><span class="pre">check_instance()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.check_peaks"><code class="docutils literal notranslate"><span class="pre">check_peaks()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.export_data"><code class="docutils literal notranslate"><span class="pre">export_data()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.export_settings"><code class="docutils literal notranslate"><span class="pre">export_settings()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.fetch_data"><code class="docutils literal notranslate"><span class="pre">fetch_data()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.generate_ppsds"><code class="docutils literal notranslate"><span class="pre">generate_ppsds()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.get_metadata"><code class="docutils literal notranslate"><span class="pre">get_metadata()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.get_report"><code class="docutils literal notranslate"><span class="pre">get_report()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.gui"><code class="docutils literal notranslate"><span class="pre">gui()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.gui_test"><code class="docutils literal notranslate"><span class="pre">gui_test()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.import_data"><code class="docutils literal notranslate"><span class="pre">import_data()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.import_settings"><code class="docutils literal notranslate"><span class="pre">import_settings()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.input_params"><code class="docutils literal notranslate"><span class="pre">input_params()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.plot_azimuth"><code class="docutils literal notranslate"><span class="pre">plot_azimuth()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.plot_hvsr"><code class="docutils literal notranslate"><span class="pre">plot_hvsr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.plot_stream"><code class="docutils literal notranslate"><span class="pre">plot_stream()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.process_hvsr"><code class="docutils literal notranslate"><span class="pre">process_hvsr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.read_tromino_files"><code class="docutils literal notranslate"><span class="pre">read_tromino_files()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.remove_noise"><code class="docutils literal notranslate"><span class="pre">remove_noise()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.remove_outlier_curves"><code class="docutils literal notranslate"><span class="pre">remove_outlier_curves()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.run"><code class="docutils literal notranslate"><span class="pre">run()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sprit.sprit_hvsr.test_function"><code class="docutils literal notranslate"><span class="pre">test_function()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sprit.sprit_utils.html">sprit.sprit_utils module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sprit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="sprit.html">sprit package</a></li>
      <li class="breadcrumb-item active">sprit.sprit_hvsr module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/sprit.sprit_hvsr.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-sprit.sprit_hvsr">
<span id="sprit-sprit-hvsr-module"></span><h1>sprit.sprit_hvsr module<a class="headerlink" href="#module-sprit.sprit_hvsr" title="Link to this heading">¶</a></h1>
<p>This module is the main SpRIT module that contains all the functions needed to run HVSR analysis.</p>
<p>The functions defined here are read both by the SpRIT graphical user interface and by the command-line interface to run HVSR analysis on input data.</p>
<p>See documentation for individual functions for more information.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRBatch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">HVSRBatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRBatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRBatch" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>HVSRBatch is the data container used for batch processing. It contains several HVSRData objects (one for each site). These can be accessed using their site name, either square brackets (HVSRBatchVariable[“SiteName”]) or the dot (HVSRBatchVariable.SiteName) accessor.</p>
<p>The dot accessor may not work if there is a space in the site name.</p>
<p>All of the  functions in the sprit.pacakge are designed to perform the bulk of their operations iteratively on the individual HVSRData objects contained in the HVSRBatch object, and do little with the HVSRBatch object itself, besides using it determine which sites are contained within it.</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.copy" title="sprit.sprit_hvsr.HVSRBatch.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>([type])</p></td>
<td><p>Make a copy of the HVSRBatch object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.export" title="sprit.sprit_hvsr.HVSRBatch.export"><code class="xref py py-obj docutils literal notranslate"><span class="pre">export</span></code></a>([export_path, ext])</p></td>
<td><p>Method to export HVSRData objects in HVSRBatch container to indivdual .hvsr pickle files.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.export_settings" title="sprit.sprit_hvsr.HVSRBatch.export_settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">export_settings</span></code></a>([site_name, ...])</p></td>
<td><p>Method to export settings from HVSRData object in HVSRBatch object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.get_report" title="sprit.sprit_hvsr.HVSRBatch.get_report"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_report</span></code></a>(**kwargs)</p></td>
<td><p>Method to get report from processed data, in print, graphical, or tabular format.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.items" title="sprit.sprit_hvsr.HVSRBatch.items"><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code></a>()</p></td>
<td><p>Method to return both the site names and the HVSRData object as a set of dict_items tuples.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.keys" title="sprit.sprit_hvsr.HVSRBatch.keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code></a>()</p></td>
<td><p>Method to return the &quot;keys&quot; of the HVSRBatch object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.plot" title="sprit.sprit_hvsr.HVSRBatch.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>(**kwargs)</p></td>
<td><p>Method to plot data, based on the sprit.plot_hvsr() function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRBatch.report" title="sprit.sprit_hvsr.HVSRBatch.report"><code class="xref py py-obj docutils literal notranslate"><span class="pre">report</span></code></a>(**kwargs)</p></td>
<td><p>Wrapper of get_report()</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRBatch.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'shallow'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRBatch.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRBatch.copy" title="Link to this definition">¶</a></dt>
<dd><p>Make a copy of the HVSRBatch object. Uses python copy module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>type</strong><span class="classifier">str {‘shallow’, ‘deep’}</span></dt><dd><p>Based on input, creates either a shallow or deep copy of the HVSRBatch object. Shallow is equivalent of copy.copy(). Input of ‘deep’ is equivalent of copy.deepcopy() (still experimental). Defaults to shallow.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRBatch.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hvsr'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRBatch.export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRBatch.export" title="Link to this definition">¶</a></dt>
<dd><p>Method to export HVSRData objects in HVSRBatch container to indivdual .hvsr pickle files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>export_path</strong><span class="classifier">filepath, default=True</span></dt><dd><p>Filepath to save file. Can be either directory (which will assign a filename based on the HVSRData attributes). By default True. If True, it will first try to save each file to the same directory as datapath, then if that does not work, to the current working directory, then to the user’s home directory, by default True</p>
</dd>
<dt><strong>ext</strong><span class="classifier">str, optional</span></dt><dd><p>The extension to use for the output, by default ‘hvsr’. This is still a pickle file that can be read with pickle.load(), but will have .hvsr extension.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRBatch.export_settings">
<span class="sig-name descname"><span class="pre">export_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_settings_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_settings_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRBatch.export_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRBatch.export_settings" title="Link to this definition">¶</a></dt>
<dd><p>Method to export settings from HVSRData object in HVSRBatch object. Simply calls sprit.export_settings() from specified HVSRData object in the HVSRBatch object. See sprit.export_settings() for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>site_name</strong><span class="classifier">str, default=None</span></dt><dd><p>The name of the site whose settings should be exported. If None, will default to the first site, by default None.</p>
</dd>
<dt><strong>export_settings_path</strong><span class="classifier">str, optional</span></dt><dd><p>Filepath to output file. If left as ‘default’, will save as the default value in the resources directory. If that is not possible, will save to home directory, by default ‘default’</p>
</dd>
<dt><strong>export_settings_type</strong><span class="classifier">str, {‘all’, ‘instrument’, ‘processing’}, optional</span></dt><dd><p>They type of settings to save, by default ‘all’</p>
</dd>
<dt><strong>include_location</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to include the location information in the instrument settings, if that settings type is selected, by default False</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to print output (filepath and settings) to terminal, by default True</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRBatch.get_report">
<span class="sig-name descname"><span class="pre">get_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRBatch.get_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRBatch.get_report" title="Link to this definition">¶</a></dt>
<dd><p>Method to get report from processed data, in print, graphical, or tabular format.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>Variable</dt><dd><p>May return nothing, pandas.Dataframe, or pyplot Figure, depending on input.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRBatch.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRBatch.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRBatch.items" title="Link to this definition">¶</a></dt>
<dd><p>Method to return both the site names and the HVSRData object as a set of dict_items tuples. Functions similar to dict.items().</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>_type_</dt><dd><p>_description_</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRBatch.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRBatch.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRBatch.keys" title="Link to this definition">¶</a></dt>
<dd><p>Method to return the “keys” of the HVSRBatch object. For HVSRBatch objects, these are the site names. Functions similar to dict.keys().</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>dict_keys</dt><dd><p>A dict_keys object listing the site names of each of the HVSRData objects contained in the HVSRBatch object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRBatch.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRBatch.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRBatch.plot" title="Link to this definition">¶</a></dt>
<dd><p>Method to plot data, based on the sprit.plot_hvsr() function. All the same kwargs and default values apply as plot_hvsr(). For return_fig, returns it to the ‘Plot_Report’ attribute of each HVSRData object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>_type_</dt><dd><p>_description_</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRBatch.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRBatch.report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRBatch.report" title="Link to this definition">¶</a></dt>
<dd><p>Wrapper of get_report()</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">HVSRData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>HVSRData is the basic data class of the sprit package. 
It contains all the processed data, input parameters, and reports.</p>
<p>These attributes and objects can be accessed using square brackets or the dot accessor. For example, to access the site name, HVSRData[‘site’] and HVSRData.site will both return the site name.</p>
<p>Some of the methods that work on the HVSRData object (e.g., .plot() and .get_report()) are essentially wrappers for some of the main sprit package functions (sprit.plot_hvsr() and sprit.get_report(), respectively)</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.batch" title="sprit.sprit_hvsr.HVSRData.batch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">batch</span></code></a></dt><dd><p>Whether this HVSRData object is part of an HVSRBatch object.</p>
</dd>
<dt><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.datastream" title="sprit.sprit_hvsr.HVSRData.datastream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datastream</span></code></a></dt><dd><p>A copy of the original obspy datastream read in.</p>
</dd>
<dt><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.params" title="sprit.sprit_hvsr.HVSRData.params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code></a></dt><dd><p>Dictionary containing the parameters used to process the data</p>
</dd>
<dt><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.ppsds" title="sprit.sprit_hvsr.HVSRData.ppsds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ppsds</span></code></a></dt><dd><p>Dictionary copy of the class object obspy.signal.spectral_estimation.PPSD().</p>
</dd>
<dt><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.ppsds_obspy" title="sprit.sprit_hvsr.HVSRData.ppsds_obspy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ppsds_obspy</span></code></a></dt><dd><p>The original ppsd information from the obspy.signal.spectral_estimation.PPSD(), so as to keep original if copy is manipulated/changed.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.copy" title="sprit.sprit_hvsr.HVSRData.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>([type])</p></td>
<td><p>Make a copy of the HVSRData object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.export" title="sprit.sprit_hvsr.HVSRData.export"><code class="xref py py-obj docutils literal notranslate"><span class="pre">export</span></code></a>([export_path, ext])</p></td>
<td><p>Method to export HVSRData objects to .hvsr pickle files.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.export_settings" title="sprit.sprit_hvsr.HVSRData.export_settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">export_settings</span></code></a>([export_settings_path, ...])</p></td>
<td><p>Method to export settings from HVSRData object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.get_report" title="sprit.sprit_hvsr.HVSRData.get_report"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_report</span></code></a>(**kwargs)</p></td>
<td><p>Method to get report from processed data, in print, graphical, or tabular format.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.items" title="sprit.sprit_hvsr.HVSRData.items"><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code></a>()</p></td>
<td><p>Method to return the &quot;items&quot; of the HVSRData object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.keys" title="sprit.sprit_hvsr.HVSRData.keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code></a>()</p></td>
<td><p>Method to return the &quot;keys&quot; of the HVSRData object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.plot" title="sprit.sprit_hvsr.HVSRData.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>(**kwargs)</p></td>
<td><p>Method to plot data, wrapper of sprit.plot_hvsr()</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sprit.sprit_hvsr.HVSRData.report" title="sprit.sprit_hvsr.HVSRData.report"><code class="xref py py-obj docutils literal notranslate"><span class="pre">report</span></code></a>(**kwargs)</p></td>
<td><p>Wrapper of get_report()</p></td>
</tr>
</tbody>
</table>
<dl class="py property">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.batch">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">batch</span></span><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.batch" title="Link to this definition">¶</a></dt>
<dd><p>Whether this HVSRData object is part of an HVSRBatch object. This is used throughout the code to help direct the object into the proper processing pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>bool</dt><dd><p>True if HVSRData object is part of HVSRBatch object, otherwise, False</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'shallow'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRData.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.copy" title="Link to this definition">¶</a></dt>
<dd><p>Make a copy of the HVSRData object. Uses python copy module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>type</strong><span class="classifier">str {‘shallow’, ‘deep’}</span></dt><dd><p>Based on input, creates either a shallow or deep copy of the HVSRData object. Shallow is equivalent of copy.copy(). Input of type=’deep’ is equivalent of copy.deepcopy() (still experimental). Defaults to shallow.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.datastream">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">datastream</span></span><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.datastream" title="Link to this definition">¶</a></dt>
<dd><p>A copy of the original obspy datastream read in. This helps to retain the original data even after processing is carried out.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>obspy.core.Stream.stream</dt><dd><p>Obspy stream</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hvsr'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRData.export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.export" title="Link to this definition">¶</a></dt>
<dd><p>Method to export HVSRData objects to .hvsr pickle files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>export_path</strong><span class="classifier">filepath, default=True</span></dt><dd><p>Filepath to save file. Can be either directory (which will assign a filename based on the HVSRData attributes). 
By default True. 
If True, it will first try to save each file to the same directory as datapath, then if that does not work, to the current working directory, then to the user’s home directory, by default True</p>
</dd>
<dt><strong>ext</strong><span class="classifier">str, optional</span></dt><dd><p>The extension to use for the output, by default ‘hvsr’. This is still a pickle file that can be read with pickle.load(), but will have .hvsr extension.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.export_settings">
<span class="sig-name descname"><span class="pre">export_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_settings_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_settings_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRData.export_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.export_settings" title="Link to this definition">¶</a></dt>
<dd><p>Method to export settings from HVSRData object. Simply calls sprit.export_settings() from the HVSRData object. See sprit.export_settings() for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>export_settings_path</strong><span class="classifier">str, optional</span></dt><dd><p>Filepath to output file. If left as ‘default’, will save as the default value in the resources directory. If that is not possible, will save to home directory, by default ‘default’</p>
</dd>
<dt><strong>export_settings_type</strong><span class="classifier">str, {‘all’, ‘instrument’, ‘processing’}, optional</span></dt><dd><p>They type of settings to save, by default ‘all’</p>
</dd>
<dt><strong>include_location</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to include the location information in the instrument settings, if that settings type is selected, by default False</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to print output (filepath and settings) to terminal, by default True</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.get_report">
<span class="sig-name descname"><span class="pre">get_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRData.get_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.get_report" title="Link to this definition">¶</a></dt>
<dd><p>Method to get report from processed data, in print, graphical, or tabular format.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>Variable</dt><dd><p>May return nothing, pandas.Dataframe, or pyplot Figure, depending on input.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRData.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.items" title="Link to this definition">¶</a></dt>
<dd><p>Method to return the “items” of the HVSRData object. For HVSRData objects, this is a dict_items object with the keys and values in tuples. Functions similar to dict.items().</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>dict_items</dt><dd><p>A dict_items object of the HVSRData objects attributes, parameters, etc.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRData.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.keys" title="Link to this definition">¶</a></dt>
<dd><p>Method to return the “keys” of the HVSRData object. For HVSRData objects, these are the attributes and parameters of the object. Functions similar to dict.keys().</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>dict_keys</dt><dd><p>A dict_keys object of the HVSRData objects attributes, parameters, etc.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">params</span></span><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.params" title="Link to this definition">¶</a></dt>
<dd><p>Dictionary containing the parameters used to process the data</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>dict</dt><dd><p>Dictionary containing the process parameters</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRData.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.plot" title="Link to this definition">¶</a></dt>
<dd><p>Method to plot data, wrapper of sprit.plot_hvsr()</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>matplotlib.Figure, matplotlib.Axis (if return_fig=True)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.ppsds">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ppsds</span></span><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.ppsds" title="Link to this definition">¶</a></dt>
<dd><p>Dictionary copy of the class object obspy.signal.spectral_estimation.PPSD(). The dictionary copy allows manipulation of the data in PPSD, whereas that data cannot be easily manipulated in the original Obspy object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>dict</dt><dd><p>Dictionary copy of the PPSD information from generate_ppsds()</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.ppsds_obspy">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ppsds_obspy</span></span><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.ppsds_obspy" title="Link to this definition">¶</a></dt>
<dd><p>The original ppsd information from the obspy.signal.spectral_estimation.PPSD(), so as to keep original if copy is manipulated/changed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.HVSRData.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#HVSRData.report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.HVSRData.report" title="Link to this definition">¶</a></dt>
<dd><p>Wrapper of get_report()</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.batch_data_read">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">batch_data_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'table'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">readcsv_getMeta_fetch_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#batch_data_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.batch_data_read" title="Link to this definition">¶</a></dt>
<dd><p>Function to read data in data as a batch of multiple data files. This is best used through sprit.fetch_data(<a href="#id1"><span class="problematic" id="id2">*</span></a>args, source=’batch’, <a href="#id3"><span class="problematic" id="id4">**</span></a>other_kwargs).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>input_data</strong><span class="classifier">filepath or list</span></dt><dd><p>Input data information for how to read in data as batch</p>
</dd>
<dt><strong>batch_type</strong><span class="classifier">str, optional</span></dt><dd><p>Type of batch read, only ‘table’ and ‘filelist’ accepted. If ‘table’, will read data from a file read in using pandas.read_csv(), by default ‘table’</p>
</dd>
<dt><strong>param_col</strong><span class="classifier">None or str, optional</span></dt><dd><p>Name of parameter column from batch information file. Only used if a batch_type=’table’ and single parameter column is used, rather than one column per parameter (for single parameter column, parameters are formatted with = between keys/values and , between item pairs), by default None</p>
</dd>
<dt><strong>batch_params</strong><span class="classifier">list, dict, or None, default = None</span></dt><dd><p>Parameters to be used if batch_type=’filelist’. If it is a list, needs to be the same length as input_data. If it is a dict, will be applied to all files in input_data and will combined with extra keyword arguments caught by <a href="#id5"><span class="problematic" id="id6">**</span></a>readcsv_getMeta_fetch_kwargs.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to print information to terminal during batch read, by default False</p>
</dd>
<dt><strong>**readcsv_getMeta_fetch_kwargs</strong></dt><dd><p>Keyword arguments that will be read into pandas.read_csv(), sprit.input_params, sprit.get_metadata(), and/or sprit.fetch_data()</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>Dictionary with each item representing a different file read in, and which consists of its own parameter dictionary to be used by the rest of the processing steps</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>IndexError</dt><dd><p>_description_</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.calculate_azimuth">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">calculate_azimuth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'multiple'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'degrees'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_az_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">plot_azimuth_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#calculate_azimuth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.calculate_azimuth" title="Link to this definition">¶</a></dt>
<dd><p>Function to calculate azimuthal horizontal component at specified angle(s). Adds each new horizontal component as a radial component to obspy.Stream object at hvsr_data[‘stream’]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hvsr_data</strong><span class="classifier">HVSRData</span></dt><dd><p>Input HVSR data</p>
</dd>
<dt><strong>azimuth_angle</strong><span class="classifier">int, default=10</span></dt><dd><p>If <cite>azimuth_type=’multiple’</cite>, this is the angular step (in unit <cite>azimuth_unit</cite>) of each of the azimuthal measurements.
If <cite>azimuth_type=’single’</cite> this is the angle (in unit <cite>azimuth_unit</cite>) of the single calculated azimuthal measruement. By default 10.</p>
</dd>
<dt><strong>azimuth_type</strong><span class="classifier">str, default=’multiple’</span></dt><dd><p>What type of azimuthal measurement to make, by default ‘multiple’.
If ‘multiple’ (or {‘multi’, ‘mult’, ‘m’}), will take a measurement at each angular step of azimuth_angle of unit azimuth_unit.
If ‘single’ (or {‘sing’, ‘s’}), will take a single azimuthal measurement at angle specified in azimuth_angle.</p>
</dd>
<dt><strong>azimuth_unit</strong><span class="classifier">str, default=’degrees’</span></dt><dd><p>Angular unit used to specify <cite>azimuth_angle</cite> parameter. By default ‘degrees’.
If ‘degrees’ (or {‘deg’, ‘d’}), will use degrees.
If ‘radians’ (or {‘rad’, ‘r’}), will use radians.</p>
</dd>
<dt><strong>show_az_plot</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to show azimuthal plot, by default False.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to print terminal output, by default False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>HVSRData</dt><dd><p>Updated HVSRData object specified in hvsr_data with hvsr_data[‘stream’] attribute containing additional components (EHR-<strong>*),
with *</strong> being zero-padded (3 digits) azimuth angle in degrees.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.check_instance">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">check_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">init</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#check_instance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.check_instance" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.check_peaks">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">check_peaks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hvsr_band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.4,</span> <span class="pre">40]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak_selection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'max'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak_freq_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.4,</span> <span class="pre">40]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#check_peaks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.check_peaks" title="Link to this definition">¶</a></dt>
<dd><p>Function to run tests on HVSR peaks to find best one and see if it passes quality checks</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hvsr_data</strong><span class="classifier">dict</span></dt><dd><p>Dictionary containing all the calculated information about the HVSR data (i.e., hvsr_out returned from process_hvsr)</p>
</dd>
<dt><strong>hvsr_band</strong><span class="classifier">tuple or list, default=[0.4, 40]</span></dt><dd><p>2-item tuple or list with lower and upper limit of frequencies to analyze</p>
</dd>
<dt><strong>peak_selection</strong><span class="classifier">str or numeric, default=’max’</span></dt><dd><p>How to select the “best” peak used in the analysis. For peak_selection=”max” (default value), the highest peak within peak_freq_range is used.
For peak_selection=’scored’, an algorithm is used to select the peak based in part on which peak passes the most SESAME criteria.
If a numeric value is used (e.g., int or float), this should be a frequency value to manually select as the peak of interest.</p>
</dd>
<dt><strong>peak_freq_range</strong><span class="classifier">tuple or list, default=[0.4, 40];</span></dt><dd><p>The frequency range within which to check for peaks. If there is an HVSR curve with multiple peaks, this allows the full range of data to be processed while limiting peak picks to likely range.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to print results and inputs to terminal.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>hvsr_data</strong><span class="classifier">HVSRData or HVSRBatch object</span></dt><dd><p>Object containing previous input data, plus information about peak tests</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.export_data">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">export_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hvsr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#export_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.export_data" title="Link to this definition">¶</a></dt>
<dd><p>Export data into pickle format that can be read back in using import_data() so data does not need to be processed each time. 
Default extension is .hvsr but it is still a pickled file that can be read in using pickle.load().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hvsr_data</strong><span class="classifier">HVSRData or HVSRBatch</span></dt><dd><p>Data to be exported</p>
</dd>
<dt><strong>export_path</strong><span class="classifier">str or filepath object, default = None</span></dt><dd><p>String or filepath object to be read by pathlib.Path() and/or a with open(export_path, ‘wb’) statement. If None, defaults to input datapath directory, by default None</p>
</dd>
<dt><strong>ext</strong><span class="classifier">str, default = ‘hvsr’</span></dt><dd><p>Filepath extension to use for data file, by default ‘hvsr’</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.export_settings">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">export_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_settings_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_settings_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#export_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.export_settings" title="Link to this definition">¶</a></dt>
<dd><p>Save settings to json file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>export_settings_path</strong><span class="classifier">str, default=”default”</span></dt><dd><p>Where to save the json file(s) containing the settings, by default ‘default’. 
If “default,” will save to sprit package resources. Otherwise, set a filepath location you would like for it to be saved to.
If ‘all’ is selected, a directory should be supplied. 
Otherwise, it will save in the directory of the provided file, if it exists. Otherwise, defaults to the home directory.</p>
</dd>
<dt><strong>export_settings_type</strong><span class="classifier">str, {‘all’, ‘instrument’, ‘processing’}</span></dt><dd><p>What kind of settings to save. 
If ‘all’, saves all possible types in their respective json files.
If ‘instrument’, save the instrument settings to their respective file.
If ‘processing’, saves the processing settings to their respective file. By default ‘all’</p>
</dd>
<dt><strong>include_location</strong><span class="classifier">bool, default=False, input CRS</span></dt><dd><p>Whether to include the location parametersin the exported settings document.This includes xcoord, ycoord, elevation, elev_unit, and input_crs</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=True</span></dt><dd><p>Whether to print outputs and information to the terminal</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.fetch_data">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">fetch_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'file'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trim_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mseed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detrend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'spline'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detrend_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_input_stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#fetch_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.fetch_data" title="Link to this definition">¶</a></dt>
<dd><p>Fetch ambient seismic data from a source to read into obspy stream</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>params</strong><span class="classifier">dict</span></dt><dd><dl class="simple">
<dt>Dictionary containing all the necessary params to get data.</dt><dd><p>Parameters defined using input_params() function.</p>
</dd>
</dl>
</dd>
<dt><strong>source</strong><span class="classifier">str, {‘raw’, ‘dir’, ‘file’, ‘batch’}</span></dt><dd><dl>
<dt>String indicating where/how data file was created. For example, if raw data, will need to find correct channels.</dt><dd><p>‘raw’ finds raspberry shake data, from raw output copied using scp directly from Raspberry Shake, either in folder or subfolders; 
‘dir’ is used if the day’s 3 component files (currently Raspberry Shake supported only) are all 3 contained in a directory by themselves.
‘file’ is used if the params[‘datapath’] specified in input_params() is the direct filepath to a single file to be read directly into an obspy stream.
‘batch’ is used to read a list or specified set of seismic files.</p>
<blockquote>
<div><p>Most commonly, a csv file can be read in with all the parameters. Each row in the csv is a separate file. Columns can be arranged by parameter.</p>
</div></blockquote>
</dd>
</dl>
</dd>
<dt><strong>trim_dir</strong><span class="classifier">None or str or pathlib obj, default=None</span></dt><dd><p>If None (or False), data is not trimmed in this function.
Otherwise, this is the directory to save trimmed and exported data.</p>
</dd>
<dt><strong>export_format: str=’mseed’</strong></dt><dd><p>If trim_dir is not None, this is the format in which to save the data</p>
</dd>
<dt><strong>detrend</strong><span class="classifier">str or bool, default=’spline’</span></dt><dd><p>If False, data is not detrended.
Otherwise, this should be a string accepted by the type parameter of the obspy.core.trace.Trace.detrend method: <a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.core.trace.Trace.detrend.html">https://docs.obspy.org/packages/autogen/obspy.core.trace.Trace.detrend.html</a></p>
</dd>
<dt><strong>detrend_order</strong><span class="classifier">int, default=2</span></dt><dd><p>If detrend parameter is ‘spline’ or ‘polynomial’, this is passed directly to the order parameter of obspy.core.trace.Trace.detrend method.</p>
</dd>
<dt><strong>update_metadata</strong><span class="classifier">bool, default=True</span></dt><dd><p>Whether to update the metadata file, used primarily with Raspberry Shake data which uses a generic inventory file.</p>
</dd>
<dt><strong>plot_input_stream</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to plot the raw input stream. This plot includes a spectrogram (Z component) and the raw (with decimation for speed) plots of each component signal.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to print outputs and inputs to the terminal</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Keywords arguments, primarily for ‘batch’ and ‘dir’ sources</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>params</strong><span class="classifier">HVSRData or HVSRBatch object</span></dt><dd><p>Same as params parameter, but with an additional “stream” attribute with an obspy data stream with 3 traces: Z (vertical), N (North-south), and E (East-west)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.generate_ppsds">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">generate_ppsds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuthal_ppsds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">ppsd_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#generate_ppsds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.generate_ppsds" title="Link to this definition">¶</a></dt>
<dd><p>Generates PPSDs for each channel</p>
<p>Channels need to be in Z, N, E order
Info on PPSD creation here: <a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.signal.spectral_estimation.PPSD.html">https://docs.obspy.org/packages/autogen/obspy.signal.spectral_estimation.PPSD.html</a></p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>hvsr_data</strong><span class="classifier">dict, HVSRData object, or HVSRBatch object</span></dt><dd><p>Data object containing all the parameters and other data of interest (stream and paz, for example)</p>
</dd>
<dt><strong>azimuthal_ppsds</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to generate PPSDs for azimuthal data</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=True</span></dt><dd><p>Whether to print inputs and results to terminal</p>
</dd>
<dt><strong>**ppsd_kwargs</strong><span class="classifier">dict</span></dt><dd><p>Dictionary with keyword arguments that are passed directly to obspy.signal.PPSD.
If the following keywords are not specified, their defaults are amended in this function from the obspy defaults for its PPSD function. Specifically:</p>
<blockquote>
<div><ul class="simple">
<li><p>ppsd_length defaults to 60 (seconds) here instead of 3600</p></li>
<li><p>skip_on_gaps defaults to True instead of False</p></li>
<li><p>period_step_octaves defaults to 0.03125 instead of 0.125</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ppsds</strong><span class="classifier">HVSRData object</span></dt><dd><p>Dictionary containing entries with ppsds for each channel</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.get_metadata">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">get_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">read_inventory_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.get_metadata" title="Link to this definition">¶</a></dt>
<dd><p>Get metadata and calculate or get paz parameter needed for PPSD</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>params</strong><span class="classifier">dict</span></dt><dd><dl class="simple">
<dt>Dictionary containing all the input and other parameters needed for processing</dt><dd><p>Ouput from input_params() function</p>
</dd>
</dl>
</dd>
<dt><strong>write_path</strong><span class="classifier">str</span></dt><dd><dl class="simple">
<dt>String with output filepath of where to write updated inventory or metadata file</dt><dd><p>If not specified, does not write file</p>
</dd>
</dl>
</dd>
<dt><strong>update_metadata</strong><span class="classifier">bool</span></dt><dd><p>Whether to update the metadata file itself, or just read as-is. If using provided raspberry shake metadata file, select True.</p>
</dd>
<dt><strong>source</strong><span class="classifier">str, default=None</span></dt><dd><p>This passes the source variable value to _read_RS_metadata. It is expected that this is passed directly from the source parameter of sprit.fetch_data()</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>params</strong><span class="classifier">dict</span></dt><dd><p>Modified input dictionary with additional key:value pair containing paz dictionary (key = “paz”)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.get_report">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">get_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['print',</span> <span class="pre">'csv',</span> <span class="pre">'plot']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HVSR</span> <span class="pre">p</span> <span class="pre">ann</span> <span class="pre">C+</span> <span class="pre">p</span> <span class="pre">ann</span> <span class="pre">Spec'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_overwrite_opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'append'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#get_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.get_report" title="Link to this definition">¶</a></dt>
<dd><p>Get a report of the HVSR analysis in a variety of formats.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>hvsr_results</strong><span class="classifier">dict</span></dt><dd><p>Dictionary containing all the information about the processed hvsr data</p>
</dd>
<dt><strong>report_format</strong><span class="classifier">{‘csv’, ‘print’, plot}</span></dt><dd><p>Format in which to print or export the report.
The following report_formats return the following items in the following attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘plot’: hvsr_results[‘Print_Report’] as a str str</p></li>
<li><p>‘print’: hvsr_results[‘HV_Plot’] - matplotlib.Figure object</p></li>
<li><dl class="simple">
<dt>‘csv’:  hvsr_results[‘CSV_Report’]- pandas.DataFrame object</dt><dd><ul>
<li><p>list/tuple - a list or tuple of the above objects, in the same order they are in the report_format list</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd>
<dt><strong>plot_type</strong><span class="classifier">str, default = ‘HVSR p ann C+ p ann Spec</span></dt><dd><p>What type of plot to plot, if ‘plot’ part of report_format input</p>
</dd>
<dt><strong>azimuth</strong><span class="classifier">str, default = ‘HV’</span></dt><dd><p>Which azimuth to plot, by default “HV” which is the main “azimuth” combining the E and N components</p>
</dd>
<dt><strong>export_path</strong><span class="classifier">None, bool, or filepath, default = None</span></dt><dd><p>If None or False, does not export; if True, will export to same directory as the datapath parameter in the input_params() function.
Otherwise, it should be a string or path object indicating where to export results. May be a file or directory.
If a directory is specified, the filename will be  “&lt;site_name&gt;_&lt;acq_date&gt;_&lt;UTC start time&gt;-&lt;UTC end time&gt;”. The suffix defaults to png for report_format=”plot”, csv for ‘csv’, and does not export if ‘print.’</p>
</dd>
<dt><strong>csv_overwrite_opts</strong><span class="classifier">str, {‘append’, ‘overwrite’, ‘keep/rename’}</span></dt><dd><p>How to handle csv report outputs if the designated csv output file already exists. By default, appends the new information to the end of the existing file.</p>
</dd>
<dt><strong>no_output</strong><span class="classifier">bool, default=False</span></dt><dd><p>If True, only reads output to appropriate attribute of data class (ie, print does not print, only reads text into variable). If False, performs as normal.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=True</span></dt><dd><p>Whether to print the results to terminal. This is the same output as report_format=’print’, and will not repeat if that is already selected</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>sprit.HVSRData</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.gui">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">gui</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#gui"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.gui" title="Link to this definition">¶</a></dt>
<dd><p>Function to open a graphical user interface (gui)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>kind</strong><span class="classifier">str, optional</span></dt><dd><p>What type of gui to open. “default” opens regular windowed interface, 
“widget” opens jupyter widget’
“lite” open lite (pending update), by default ‘default’</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.gui_test">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">gui_test</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#gui_test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.gui_test" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.import_data">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">import_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">import_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pickle'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#import_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.import_data" title="Link to this definition">¶</a></dt>
<dd><p>Function to import .hvsr (or other extension) data exported using export_data() function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>import_filepath</strong><span class="classifier">str or path object</span></dt><dd><p>Filepath of file created using export_data() function. This is usually a pickle file with a .hvsr extension</p>
</dd>
<dt><strong>data_format</strong><span class="classifier">str, default=’pickle’</span></dt><dd><p>Type of format data is in. Currently, only ‘pickle’ supported. Eventually, json or other type may be supported, by default ‘pickle’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>HVSRData or HVSRBatch object</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.import_settings">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">import_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings_import_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings_import_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'instrument'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#import_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.import_settings" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.input_params">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">input_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datapath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HVSR</span> <span class="pre">Site'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AM'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RAC84'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'00'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['EHZ',</span> <span class="pre">'EHN',</span> <span class="pre">'EHE']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2024-04-21'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">UTCDateTime(2024,</span> <span class="pre">4,</span> <span class="pre">21,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">UTCDateTime(2024,</span> <span class="pre">4,</span> <span class="pre">21,</span> <span class="pre">23,</span> <span class="pre">59,</span> <span class="pre">59,</span> <span class="pre">999999)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'UTC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xcoord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-88.2290526</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycoord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40.1012122</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elevation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">755</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EPSG:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EPSG:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elev_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'feet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instrument</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Raspberry</span> <span class="pre">Shake'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metapath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hvsr_band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.4,</span> <span class="pre">40]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak_freq_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.4,</span> <span class="pre">40]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processing_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#input_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.input_params" title="Link to this definition">¶</a></dt>
<dd><p>Function for designating input parameters for reading in and processing data</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>datapath</strong><span class="classifier">str or pathlib.Path object</span></dt><dd><p>Filepath of data. This can be a directory or file, but will need to match with what is chosen later as the source parameter in fetch_data()</p>
</dd>
<dt><strong>site</strong><span class="classifier">str, default=”HVSR Site”</span></dt><dd><p>Site name as designated by user for ease of reference. Used for plotting titles, filenames, etc.</p>
</dd>
<dt><strong>network</strong><span class="classifier">str, default=’AM’</span></dt><dd><p>The network designation of the seismometer. This is necessary for data from Raspberry Shakes. ‘AM’ is for Amateur network, which fits Raspberry Shakes.</p>
</dd>
<dt><strong>station</strong><span class="classifier">str, default=’RAC84’</span></dt><dd><p>The station name of the seismometer. This is necessary for data from Raspberry Shakes.</p>
</dd>
<dt><strong>loc</strong><span class="classifier">str, default=’00’</span></dt><dd><p>Location information of the seismometer.</p>
</dd>
<dt><strong>channels</strong><span class="classifier">list, default=[‘EHZ’, ‘EHN’, ‘EHE’]</span></dt><dd><p>The three channels used in this analysis, as a list of strings. Preferred that Z component is first, but not necessary</p>
</dd>
<dt><strong>acq_date</strong><span class="classifier">str, int, date object, or datetime object</span></dt><dd><p>If string, preferred format is ‘YYYY-MM-DD’. 
If int, this will be interpreted as the time_int of year of current year (e.g., 33 would be Feb 2 of current year)
If date or datetime object, this will be the date. Make sure to account for time change when converting to UTC (if UTC is the following time_int, use the UTC time_int).</p>
</dd>
<dt><strong>starttime</strong><span class="classifier">str, time object, or datetime object, default=’00:00:00.00’</span></dt><dd><p>Start time of data stream. This is necessary for Raspberry Shake data in ‘raw’ form, or for trimming data. Format can be either ‘HH:MM:SS.micros’ or ‘HH:MM’ at minimum.</p>
</dd>
<dt><strong>endtime</strong><span class="classifier">str, time obejct, or datetime object, default=’23:59:99.99’</span></dt><dd><p>End time of data stream. This is necessary for Raspberry Shake data in ‘raw’ form, or for trimming data. Same format as starttime.</p>
</dd>
<dt><strong>tzone</strong><span class="classifier">str or int, default = ‘UTC’</span></dt><dd><p>Timezone of input data. If string, ‘UTC’ will use the time as input directly. Any other string value needs to be a TZ identifier in the IANA database, a wikipedia page of these is available here: <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a>.
If int, should be the int value of the UTC offset (e.g., for American Eastern Standard Time: -5). 
This is necessary for Raspberry Shake data in ‘raw’ format.</p>
</dd>
<dt><strong>xcoord</strong><span class="classifier">float, default=-88.2290526</span></dt><dd><p>Longitude (or easting, or, generally, X coordinate) of data point, in Coordinate Reference System (CRS) designated by input_crs. Currently only used in csv output, but will likely be used in future for mapping/profile purposes.</p>
</dd>
<dt><strong>ycoord</strong><span class="classifier">float, default=40.1012122</span></dt><dd><p>Latitute (or northing, or, generally, X coordinate) of data point, in Coordinate Reference System (CRS) designated by input_crs. Currently only used in csv output, but will likely be used in future for mapping/profile purposes.</p>
</dd>
<dt><strong>input_crs</strong><span class="classifier">str or other format read by pyproj, default=’EPSG:4326’</span></dt><dd><p>Coordinate reference system of input data, as used by pyproj.CRS.from_user_input()</p>
</dd>
<dt><strong>output_crs</strong><span class="classifier">str or other format read by pyproj, default=’EPSG:4326’</span></dt><dd><p>Coordinate reference system to which input data will be transformed, as used by pyproj.CRS.from_user_input()</p>
</dd>
<dt><strong>elevation</strong><span class="classifier">float, default=755</span></dt><dd><p>Surface elevation of data point. Not currently used (except in csv output), but will likely be used in the future.</p>
</dd>
<dt><strong>depth</strong><span class="classifier">float, default=0</span></dt><dd><p>Depth of seismometer. Not currently used, but will likely be used in the future.</p>
</dd>
<dt><strong>instrument</strong><span class="classifier">str or list {‘Raspberry Shake’)</span></dt><dd><p>Instrument from which the data was acquired.</p>
</dd>
<dt><strong>metapath</strong><span class="classifier">str or pathlib.Path object, default=None</span></dt><dd><p>Filepath of metadata, in format supported by obspy.read_inventory. If default value of None, will read from resources folder of repository (only supported for Raspberry Shake).</p>
</dd>
<dt><strong>hvsr_band</strong><span class="classifier">list, default=[0.4, 40]</span></dt><dd><p>Two-element list containing low and high “corner” frequencies (in Hz) for processing. This can specified again later.</p>
</dd>
<dt><strong>peak_freq_range</strong><span class="classifier">list or tuple, default=[0.4, 40]</span></dt><dd><p>Two-element list or tuple containing low and high frequencies (in Hz) that are used to check for HVSR Peaks. This can be a tigher range than hvsr_band, but if larger, it will still only use the hvsr_band range.</p>
</dd>
<dt><strong>processing_parameters={}</strong><span class="classifier">dict or filepath, default={}</span></dt><dd><p>If filepath, should point to a .proc json file with processing parameters (i.e, an output from sprit.export_settings()). 
Note that this only applies to parameters for the functions: ‘fetch_data’, ‘remove_noise’, ‘generate_ppsds’, ‘process_hvsr’, ‘check_peaks’, and ‘get_report.’
If dictionary, dictionary containing nested dictionaries of function names as they key, and the parameter names/values as key/value pairs for each key. 
If a function name is not present, or if a parameter name is not present, default values will be used.
For example:</p>
<blockquote>
<div><p><cite>{ ‘fetch_data’ : {‘source’:’batch’, ‘trim_dir’:”/path/to/trimmed/data”, ‘export_format’:’mseed’, ‘detrend’:’spline’, ‘plot_input_stream’:True, ‘verbose’:False, kwargs:{‘kwargskey’:’kwargsvalue’}} }</cite></p>
</div></blockquote>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to print output and results to terminal</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>params</strong><span class="classifier">sprit.HVSRData</span></dt><dd><p>sprit.HVSRData class containing input parameters, including data file path and metadata path. This will be used as an input to other functions. If batch processing, params will be converted to batch type in fetch_data() step.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.plot_azimuth">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">plot_azimuth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_azimuth_peaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolate_azimuths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_azimuth_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">plot_azimuth_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#plot_azimuth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.plot_azimuth" title="Link to this definition">¶</a></dt>
<dd><p>Function to plot azimuths when azimuths are calculated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hvsr_data</strong><span class="classifier">HVSRData or HVSRBatch</span></dt><dd><p>HVSRData that has gone through at least the sprit.fetch_data() step, and before sprit.generate_ppsds()</p>
</dd>
<dt><strong>show_azimuth_peaks</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to display the peak value at each azimuth calculated on the chart, by default False</p>
</dd>
<dt><strong>interpolate_azimuths</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to interpolate the azimuth data to get a smoother plot. 
This is just for visualization, does not change underlying data.
It takes a lot of time to process the data, but interpolation for vizualization can happen fairly fast. By default True.</p>
</dd>
<dt><strong>show_azimuth_grid</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to display the grid on the chart, by default False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>matplotlib.Figure, matplotlib.Axis</dt><dd><p>Figure and axis of resulting azimuth plot</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.plot_hvsr">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">plot_hvsr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HVSR</span> <span class="pre">ann</span> <span class="pre">p</span> <span class="pre">C+</span> <span class="pre">ann</span> <span class="pre">p</span> <span class="pre">SPEC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_subplots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close_figs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#plot_hvsr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.plot_hvsr" title="Link to this definition">¶</a></dt>
<dd><p>Function to plot HVSR data</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>hvsr_data</strong><span class="classifier">dict</span></dt><dd><p>Dictionary containing output from process_hvsr function</p>
</dd>
<dt><strong>plot_type</strong><span class="classifier">str or list, default = ‘HVSR ann p C+ ann p SPEC’</span></dt><dd><p>The plot_type of plot(s) to plot. If list, will plot all plots listed
- ‘HVSR’ - Standard HVSR plot, including standard deviation. Options are included below:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘p’ shows a vertical dotted line at frequency of the “best” peak</p></li>
<li><p>‘ann’ annotates the frequency value of of the “best” peak</p></li>
<li><p>‘all’ shows all the peaks identified in check_peaks() (by default, only the max is identified)</p></li>
<li><p>‘t’ shows the H/V curve for all time windows</p></li>
<li><p>‘tp’ shows all the peaks from the H/V curves of all the time windows</p></li>
<li><dl class="simple">
<dt>‘test’ shows a visualization of the results of the peak validity test(s). Examples:</dt><dd><ul>
<li><p>‘tests’ visualizes the results of all the peak tests (not the curve tests)</p></li>
<li><dl class="simple">
<dt>‘test12’ shows the results of tests 1 and 2.</dt><dd><ul>
<li><p>Append any number 1-6 after ‘test’ to show a specific test result visualized</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>‘COMP’ - plot of the PPSD curves for each individual component (“C” also works)</dt><dd><ul>
<li><p>‘+’ (as a suffix in ‘C+’ or ‘COMP+’) plots C on a plot separate from HVSR (C+ is default, but without + will plot on the same plot as HVSR)</p></li>
<li><p>‘p’ shows a vertical dotted line at frequency of the “best” peak</p></li>
<li><p>‘ann’ annotates the frequency value of of the “best” peak</p></li>
<li><p>‘all’ shows all the peaks identified in check_peaks() (by default, only the max is identified)</p></li>
<li><p>‘t’ shows the H/V curve for all time windows</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‘SPEC’ - spectrogram style plot of the H/V curve over time</dt><dd><ul>
<li><p>‘p’ shows a horizontal dotted line at the frequency of the “best” peak</p></li>
<li><p>‘ann’ annotates the frequency value of the “best” peak</p></li>
<li><p>‘all’ shows all the peaks identified in check_peaks()</p></li>
<li><p>‘tp’ shows all the peaks of the H/V curve at all time windows</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‘AZ’ - circular plot of calculated azimuthal HV curves, similar in style to SPEC plot.</dt><dd><ul>
<li><p>‘p’ shows a point at each calculated (not interpolated) azimuth peak</p></li>
<li><p>‘g’ shows grid lines at various angles</p></li>
<li><dl class="simple">
<dt>‘i’ interpolates so that there is an interpolated azimuth at each degree interval (1 degree step)</dt><dd><p>This is the default, so usually ‘i’ is not needed.</p>
</dd>
</dl>
</li>
<li><p>‘-i’ prohibits interpolation (only shows the calculated azimuths, as determined by azimuth_angle (default = 30))</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
<dt><strong>azimuth</strong><span class="classifier">str, default = ‘HV’</span></dt><dd><p>What ‘azimuth’ to plot, default being standard N E components combined</p>
</dd>
<dt><strong>use_subplots</strong><span class="classifier">bool, default = True</span></dt><dd><p>Whether to output the plots as subplots (True) or as separate plots (False)</p>
</dd>
<dt><strong>fig</strong><span class="classifier">matplotlib.Figure, default = None</span></dt><dd><p>If not None, matplotlib figure on which plot is plotted</p>
</dd>
<dt><strong>ax</strong><span class="classifier">matplotlib.Axis, default = None</span></dt><dd><p>If not None, matplotlib axis on which plot is plotted</p>
</dd>
<dt><strong>return_fig</strong><span class="classifier">bool</span></dt><dd><p>Whether to return figure and axis objects</p>
</dd>
<dt><strong>save_dir</strong><span class="classifier">str or None</span></dt><dd><p>Directory in which to save figures</p>
</dd>
<dt><strong>save_suffix</strong><span class="classifier">str</span></dt><dd><p>Suffix to add to end of figure filename(s), if save_dir is used</p>
</dd>
<dt><strong>show_legend</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to show legend in plot</p>
</dd>
<dt><strong>show</strong><span class="classifier">bool</span></dt><dd><p>Whether to show plot</p>
</dd>
<dt><strong>close_figs</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to close figures before plotting</p>
</dd>
<dt><strong>clear_fig</strong><span class="classifier">bool, default=True</span></dt><dd><p>Whether to clear figures before plotting</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">keyword arguments</span></dt><dd><p>Keyword arguments for matplotlib.pyplot</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>fig, ax</strong><span class="classifier">matplotlib figure and axis objects</span></dt><dd><p>Returns figure and axis matplotlib.pyplot objects if return_fig=True, otherwise, simply plots the figures</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.plot_stream">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">plot_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim_std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#plot_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.plot_stream" title="Link to this definition">¶</a></dt>
<dd><p>Function to plot a stream of data with Z, E, N components using matplotlib. Similar to obspy.Stream.Plot(), but will be formatted differently and eventually more customizable.
This is also used in various functions throughout the package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>stream</strong><span class="classifier">obspy.core.Stream.stream</span></dt><dd><p>Obpsy stream of data with Z, E, N componenents</p>
</dd>
<dt><strong>params</strong><span class="classifier">HVSRData or HVSRBatch</span></dt><dd><p>Data object with parameters relevant for creating plot</p>
</dd>
<dt><strong>fig</strong><span class="classifier">matplotlib.Figure, default=None</span></dt><dd><p>Optional: if not None, matplotlib.Figure in which to plot the resulting figure (i.e., can be plotted in existing figure)</p>
</dd>
<dt><strong>axes</strong><span class="classifier">matplotlib.Axis, default=None</span></dt><dd><p>Optional: if not None, matplotlib.Axis in which to plot the resulting figure (i.e., can be plotted in existing axis)</p>
</dd>
<dt><strong>show_plot</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to do matplotlib.pylot.show(), by default False</p>
</dd>
<dt><strong>ylim_std</strong><span class="classifier">float, default = 0.75</span></dt><dd><p>Optional: the standard deviation of the data at which to clip the chart, by default 0.75</p>
</dd>
<dt><strong>return_fig</strong><span class="classifier">bool, default=True</span></dt><dd><p>Optional: whether to return the figure, by default True</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>(matplotlib.Figure, matplotlib.Axes)</dt><dd><p>Tuple containing the figure and axes of the resulting plot, only returned if return_fig = True</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.process_hvsr">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">process_hvsr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_smooth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'konno</span> <span class="pre">ohmachi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_smooth_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlier_curve_rmse_percentile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#process_hvsr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.process_hvsr" title="Link to this definition">¶</a></dt>
<dd><p>Process the input data and get HVSR data</p>
<p>This is the main function that uses other (private) functions to do 
the bulk of processing of the HVSR data and the data quality checks.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>hvsr_data</strong><span class="classifier">HVSRData or HVSRBatch</span></dt><dd><p>Data object containing all the parameters input and generated by the user (usually, during sprit.input_params(), sprit.fetch_data(), sprit.generate_ppsds() and/or sprit.remove_noise()).</p>
</dd>
<dt><strong>method</strong><span class="classifier">int or str, default=3</span></dt><dd><dl class="simple">
<dt>Method to use for combining the horizontal components</dt><dd><ol class="arabic simple" start="0">
<li><p>(not used)</p></li>
<li><p>Diffuse field assumption, or ‘DFA’ (not currently implemented)</p></li>
<li><p>‘Arithmetic Mean’: H ≡ (HN + HE)/2</p></li>
<li><p>‘Geometric Mean’: H ≡ √HN · HE, recommended by the SESAME project (2004)</p></li>
<li><p>‘Vector Summation’: H ≡ √H2 N + H2 E</p></li>
<li><p>‘Quadratic Mean’: H ≡ √(H2 N + H2 E )/2</p></li>
<li><p>‘Maximum Horizontal Value’: H ≡ max {HN, HE}</p></li>
</ol>
</dd>
</dl>
</dd>
<dt><strong>smooth</strong><span class="classifier">bool, default=True</span></dt><dd><dl class="simple">
<dt>bool or int may be used. </dt><dd><p>If True, default to smooth H/V curve to using savgoy filter with window length of 51 (works well with default resample of 1000 pts)
If int, the length of the window in the savgoy filter.</p>
</dd>
</dl>
</dd>
<dt><strong>freq_smooth</strong><span class="classifier">str {‘konno ohmachi’, ‘constant’, ‘proportional’}</span></dt><dd><dl class="simple">
<dt>Which frequency smoothing method to use. By default, uses the ‘konno ohmachi’ method.</dt><dd><ul class="simple">
<li><p>The Konno &amp; Ohmachi method uses the obspy.signal.konnoohmachismoothing.konno_ohmachi_smoothing() function: <a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.signal.konnoohmachismoothing.konno_ohmachi_smoothing.html">https://docs.obspy.org/packages/autogen/obspy.signal.konnoohmachismoothing.konno_ohmachi_smoothing.html</a></p></li>
<li><p>The constant method uses a window of constant length f_smooth_width</p></li>
<li><p>The proportional method uses a window the percentage length of the frequncy steps/range (f_smooth_width now refers to percentage)</p></li>
</ul>
</dd>
</dl>
<p>See here for more information: <a class="reference external" href="https://www.geopsy.org/documentation/geopsy/hv-processing.html">https://www.geopsy.org/documentation/geopsy/hv-processing.html</a></p>
</dd>
<dt><strong>f_smooth_width</strong><span class="classifier">int, default = 40</span></dt><dd><ul class="simple">
<li><p>For ‘konno ohmachi’: passed directly to the bandwidth parameter of the konno_ohmachi_smoothing() function, determines the width of the smoothing peak, with lower values resulting in broader peak. Must be &gt; 0.</p></li>
<li><p>For ‘constant’: the size of a triangular smoothing window in the number of frequency steps</p></li>
<li><p>For ‘proportional’: the size of a triangular smoothing window in percentage of the number of frequency steps (e.g., if 1000 frequency steps/bins and f_smooth_width=40, window would be 400 steps wide)</p></li>
</ul>
</dd>
<dt><strong>resample</strong><span class="classifier">bool, default = True</span></dt><dd><dl class="simple">
<dt>bool or int. </dt><dd><p>If True, default to resample H/V data to include 1000 frequency values for the rest of the analysis
If int, the number of data points to interpolate/resample/smooth the component psd/HV curve data to.</p>
</dd>
</dl>
</dd>
<dt><strong>outlier_curve_rmse_percentile</strong><span class="classifier">bool, float, default = False</span></dt><dd><p>If False, outlier curve removal is not carried out here. 
If True, defaults to 98 (98th percentile). 
Otherwise, float of percentile used as rmse_thresh of remove_outlier_curve().</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, defualt=False</span></dt><dd><p>Whether to print output to terminal</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>hvsr_out</strong><span class="classifier">dict</span></dt><dd><p>Dictionary containing all the information about the data, including input parameters</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.read_tromino_files">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">read_tromino_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datapath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_byte</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">24576</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#read_tromino_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.read_tromino_files" title="Link to this definition">¶</a></dt>
<dd><p>Function to read data from tromino. Specifically, this has been lightly tested on Tromino 3G+ machines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>datapath</strong><span class="classifier">str, pathlib.Path()</span></dt><dd><p>The input parameter _datapath_ from sprit.input_params()</p>
</dd>
<dt><strong>params</strong><span class="classifier">HVSRData or HVSRBatch</span></dt><dd><p>The parameters as read in from input_params() and and fetch_data()</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to print results to terminal, by default False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>obspy.Stream</dt><dd><p>An obspy.Stream object containing the trace data from the Tromino instrument</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.remove_noise">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">remove_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat_percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.995</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stalta_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[8,</span> <span class="pre">16]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warmup_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cooldown_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_win_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_raw_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_stalta_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#remove_noise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.remove_noise" title="Link to this definition">¶</a></dt>
<dd><p>Function to remove noisy windows from data, using various methods.</p>
<p>Methods include 
- Manual window selection (by clicking on a chart with spectrogram and stream data), 
- Auto window selection, which does the following two in sequence (these can also be done indepently):</p>
<blockquote>
<div><ul class="simple">
<li><p>A sta/lta “antitrigger” method (using stalta values to automatically remove triggered windows where there appears to be too much noise)</p></li>
<li><p>A noise threshold method, that cuts off all times where the noise threshold equals more than (by default) 80% of the highest amplitude noise sample for the length specified by lta (in seconds)</p></li>
<li><p>A saturation threshold method, that cuts off all times where the noise threshold equals more than (by default) 99.5% of the highest amplitude noise sample.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hvsr_data</strong><span class="classifier">dict, obspy.Stream, or obspy.Trace</span></dt><dd><p>Dictionary containing all the data and parameters for the HVSR analysis</p>
</dd>
<dt><strong>remove_method</strong><span class="classifier">str, {‘auto’, ‘manual’, ‘stalta’/’antitrigger’, ‘saturation threshold’, ‘noise threshold’, ‘warmup’/’cooldown’/’buffer’/’warm_cool’}</span></dt><dd><p>The different methods for removing noise from the dataset. A list of strings will also work, in which case, it should be a list of the above strings. See descriptions above for what how each method works. By default ‘auto.’
If remove_method=’auto’, this is the equivalent of remove_method=[‘noise threshold’, ‘antitrigger’, ‘saturation threshold’, ‘warm_cool’]</p>
</dd>
<dt><strong>sat_percent</strong><span class="classifier">float, default=0.995</span></dt><dd><p>Percentage (between 0 and 1), to use as the threshold at which to remove data. This is used in the saturation method. By default 0.995. 
If a value is passed that is greater than 1, it will be divided by 100 to obtain the percentage.</p>
</dd>
<dt><strong>noise_percent</strong><span class="classifier">float, default = 0.8</span></dt><dd><p>Percentage (between 0 and 1), to use as the threshold at which to remove data, if it persists for longer than time (in seconds (specified by min_win_size)). This is used in the noise threshold method. By default 0.8. 
If a value is passed that is greater than 1, it will be divided by 100 to obtain the percentage.</p>
</dd>
<dt><strong>sta</strong><span class="classifier">int, optional</span></dt><dd><p>Short term average (STA) window (in seconds), by default 2. For use with sta/lta antitrigger method.</p>
</dd>
<dt><strong>lta</strong><span class="classifier">int, optional</span></dt><dd><p>Long term average (STA) window (in seconds), by default 30. For use with sta/lta antitrigger method.</p>
</dd>
<dt><strong>stalta_thresh</strong><span class="classifier">list, default=[0.5,5]</span></dt><dd><p>Two-item list or tuple with the thresholds for the stalta antitrigger. The first value (index [0]) is the lower threshold, the second value (index [1] is the upper threshold), by default [0.5,5]</p>
</dd>
<dt><strong>warmup_time</strong><span class="classifier">int, default=0</span></dt><dd><p>Time in seconds to allow for warmup of the instrument (or while operator is still near instrument). This will renove any data before this time, by default 0.</p>
</dd>
<dt><strong>cooldown_time</strong><span class="classifier">int, default=0</span></dt><dd><p>Time in seconds to allow for cooldown of the instrument (or for when operator is nearing instrument). This will renove any data before this time, by default 0.</p>
</dd>
<dt><strong>min_win_size</strong><span class="classifier">float, default=1</span></dt><dd><p>The minumum size a window must be over specified threshold (in seconds) for it to be removed</p>
</dd>
<dt><strong>remove_raw_noise</strong><span class="classifier">bool, default=False</span></dt><dd><p>If remove_raw_noise=True, will perform operation on raw data (‘input_stream’), rather than potentially already-modified data (‘stream’).</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to print status of remove_noise</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">dict</span></dt><dd><p>Dictionary similar to hvsr_data, but containing modified data with ‘noise’ removed</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.remove_outlier_curves">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">remove_outlier_curves</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hvsr_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rmse_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">98</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_percentile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_hv_curve</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_outlier_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#remove_outlier_curves"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.remove_outlier_curves" title="Link to this definition">¶</a></dt>
<dd><p>Function used to remove outliers curves using Root Mean Square Error to calculate the error of each windowed
Probabilistic Power Spectral Density (PPSD) curve against the median PPSD value at each frequency step for all times.
It calculates the RMSE for the PPSD curves of each component individually. All curves are removed from analysis.</p>
<p>Some abberant curves often occur due to the remove_noise() function, so this should be run some time after remove_noise(). 
In general, the recommended workflow is to run this immediately following the generate_ppsds() function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hvsr_data</strong><span class="classifier">dict</span></dt><dd><p>Input dictionary containing all the values and parameters of interest</p>
</dd>
<dt><strong>rmse_thresh</strong><span class="classifier">float or int, default=98</span></dt><dd><p>The Root Mean Square Error value to use as a threshold for determining whether a curve is an outlier. 
This averages over each individual entire curve so that curves with very abberant data (often occurs when using the remove_noise() method), can be identified.
Otherwise, specify a float or integer to use as the cutoff RMSE value (all curves with RMSE above will be removed)</p>
</dd>
<dt><strong>use_percentile</strong><span class="classifier">float, default=True</span></dt><dd><p>Whether rmse_thresh should be interepreted as a raw RMSE value or as a percentile of the RMSE values.</p>
</dd>
<dt><strong>use_hv_curve</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to use the calculated HV Curve or the individual components. This can only be True after process_hvsr() has been run.</p>
</dd>
<dt><strong>show_plot</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to show a plot of the removed data</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to print output of function to terminal</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>hvsr_data</strong><span class="classifier">dict</span></dt><dd><p>Input dictionary with values modified based on work of function.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.run">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datapath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'file'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth_calculation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise_removal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlier_curves_removal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.run" title="Link to this definition">¶</a></dt>
<dd><p>The sprit.run() is the main function that allows you to do all your HVSR processing in one simple step (sprit.run() is how you would call it in your code, but it may also be called using sprit.sprit_hvsr.run())</p>
<p>The datapath parameter of sprit.run() is the only required parameter. This can be either a single file, a list of files (one for each component, for example), a directory (in which case, all obspy-readable files will be added to an HVSRBatch instance), a Rasp. Shake raw data directory, or sample data.</p>
<blockquote>
<div><p>The sprit.run() function calls the following functions. This is the recommended order/set of functions to run to process HVSR using SpRIT. See the API documentation for these functions for more information:
- input_params(): The datapath parameter of input_params() is the only required variable, though others may also need to be called for your data to process correctly.
- fetch_data(): the source parameter of fetch_data() is the only explicit variable in the sprit.run() function aside from datapath and verbose. Everything else gets delivered to the correct function via the kwargs dictionary
- remove_noise(): by default, the kind of noise removal is remove_method=’auto’. See the remove_noise() documentation for more information. If remove_method is set to anything other than one of the explicit options in remove_noise, noise removal will not be carried out.
- generate_ppsds(): generates ppsds for each component, which will be combined/used later. Any parameter of obspy.signal.spectral_estimation.PPSD() may also be read into this function.
- remove_outlier_curves(): removes any outlier ppsd curves so that the data quality for when curves are combined will be enhanced. See the remove_outlier_curves() documentation for more information.
- process_hvsr(): this is the main function processing the hvsr curve and statistics. See process_hvsr() documentation for more details. The hvsr_band parameter sets the frequency spectrum over which these calculations occur.
- check_peaks(): this is the main function that will find and ‘score’ peaks to get a best peak. The parameter peak_freq_range can be set to limit the frequencies within which peaks are checked and scored.
- get_report(): this is the main function that will print, plot, and/or save the results of the data. See the get_report() API documentation for more information.
- export_data(): this function exports the final data output as a pickle file (by default, this pickle object has a .hvsr extension). This can be used to read data back into SpRIT without having to reprocess data.</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>datapath</strong><span class="classifier">str or filepath object that can be read by obspy</span></dt><dd><p>Filepath to data to be processed. This may be a file or directory, depending on what kind of data is being processed (this can be specified with the source parameter). 
For sample data, The following can be specified as the datapath parameter:</p>
<blockquote>
<div><ul class="simple">
<li><p>Any integer 1-6 (inclusive), or the string (e.g., datapath=”1” or datapath=1 will work)</p></li>
<li><p>The word “sample” before any integer (e.g., datapath=”sample1”)</p></li>
<li><p>The word “sample” will default to “sample1” if source=’file’.</p></li>
<li><p>If source=’batch’, datapath should be datapath=’sample’ or datapath=’batch’. In this case, it will read and process all the sample files using the HVSRBatch class. Set verbose=True to see all the information in the sample batch csv file.</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>source</strong><span class="classifier">str, optional</span></dt><dd><p>_description_, by default ‘file’</p>
</dd>
<dt><strong>azimuth</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to perform azimuthal analysis, by default False.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, optional</span></dt><dd><p>_description_, by default False</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Keyword arguments for the functions listed above. The keyword arguments are unique, so they will get parsed out and passed into the appropriate function.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>hvsr_results</strong><span class="classifier">sprit.HVSRData or sprit.HVSRBatch object</span></dt><dd><p>If a single file/data point is being processed, a HVSRData object will be returned. Otherwise, it will be a HVSRBatch object. See their documention for more information.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>RuntimeError</dt><dd><p>If the input parameter may not be read correctly. This is raised if the input_params() function fails. This raises an error since no other data processing or reading steps will be able to carried out correctly.</p>
</dd>
<dt>RuntimeError</dt><dd><p>If the data is not read/fetched correctly using fetch_data(), an error will be raised. This is raised if the fetch_data() function fails. This raises an error since no other data processing steps will be able to carried out correctly.</p>
</dd>
<dt>RuntimeError</dt><dd><p>If the data being processed is a single file, an error will be raised if generate_ppsds() does not work correctly. No errors are raised for remove_noise() errors (since that is an optional step) and the process_hvsr() step (since that is the last processing step) .</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sprit.sprit_hvsr.test_function">
<span class="sig-prename descclassname"><span class="pre">sprit.sprit_hvsr.</span></span><span class="sig-name descname"><span class="pre">test_function</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sprit/sprit_hvsr.html#test_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sprit.sprit_hvsr.test_function" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sprit.sprit_gui.html" class="btn btn-neutral float-left" title="sprit.sprit_gui module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sprit.sprit_jupyter_UI.html" class="btn btn-neutral float-right" title="sprit.sprit_jupyter_UI module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Author.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>