<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>sprit.sprit_tkinter_ui &mdash; sprit 1.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/documentation_options.js?v=58fbf978"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            sprit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sprit.html">sprit package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sprit.sprit_hvsr.html">sprit.sprit_hvsr module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sprit.sprit_utils.html">sprit.sprit_utils module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">sprit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">sprit.sprit_tkinter_ui</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for sprit.sprit_tkinter_ui</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;This script contains all the functions, classes, etc. to create a tkinter app for graphical user interface.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">linecache</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pathlib</span>
<span class="kn">import</span> <span class="nn">pkg_resources</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">filedialog</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">ttk</span>
<span class="kn">from</span> <span class="nn">tkinter.simpledialog</span> <span class="kn">import</span> <span class="n">askinteger</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">messagebox</span>
<span class="kn">import</span> <span class="nn">traceback</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">zoneinfo</span>

<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_tkagg</span> <span class="kn">import</span> <span class="p">(</span><span class="n">FigureCanvasTkAgg</span><span class="p">,</span> <span class="n">NavigationToolbar2Tk</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">matplotlib.backend_bases</span> <span class="kn">import</span> <span class="n">MouseButton</span><span class="p">,</span> <span class="n">MouseEvent</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="c1">#matplotlib.use(&#39;TkAgg&#39;)</span>

<span class="k">try</span><span class="p">:</span> <span class="c1">#For distribution</span>
    <span class="kn">from</span> <span class="nn">sprit</span> <span class="kn">import</span> <span class="n">sprit_utils</span>
    <span class="kn">from</span> <span class="nn">sprit</span> <span class="kn">import</span> <span class="n">sprit_hvsr</span>
<span class="k">except</span><span class="p">:</span> <span class="c1">#For local testing</span>
    <span class="kn">import</span> <span class="nn">sprit_hvsr</span> 
    <span class="kn">import</span> <span class="nn">sprit_utils</span>
    <span class="k">pass</span>

<span class="k">global</span> <span class="n">spritApp</span>
<span class="k">global</span> <span class="n">current_theme_name</span>
<span class="k">global</span> <span class="n">SPRIT_App</span>

<span class="n">resource_dir</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">pkg_resources</span><span class="o">.</span><span class="n">resource_filename</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;resources/&#39;</span><span class="p">))</span>
<span class="n">settings_dir</span> <span class="o">=</span> <span class="n">resource_dir</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;settings&#39;</span><span class="p">)</span>
<span class="n">gui_theme_file</span> <span class="o">=</span> <span class="n">settings_dir</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;gui_theme.json&#39;</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">gui_theme_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">curr_gui_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">current_theme_name</span> <span class="o">=</span> <span class="n">curr_gui_dict</span><span class="p">[</span><span class="s1">&#39;theme_name&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="SPRIT_App">
<a class="viewcode-back" href="../../sprit.sprit_tkinter_ui.html#sprit.SPRIT_App">[docs]</a>
<span class="k">class</span> <span class="nc">SPRIT_App</span><span class="p">:</span>
    <span class="k">global</span> <span class="n">spritApp</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span> <span class="o">=</span> <span class="n">master</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;SPRIT&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">HVSRData</span><span class="p">({</span><span class="s1">&#39;site&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">})</span>

        <span class="c1"># Set the theme</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">darkthemepath</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">pkg_resources</span><span class="o">.</span><span class="n">resource_filename</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;resources/themes/forest-dark.tcl&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lightthemepath</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">pkg_resources</span><span class="o">.</span><span class="n">resource_filename</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;resources/themes/forest-light.tcl&quot;</span><span class="p">))</span>
        

        
        <span class="c1"># Create the style object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Style</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="c1">#</span>
        <span class="c1">#self.style.theme_use(&#39;forest-light&#39;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_menubar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_tabs</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>        


        <span class="k">if</span> <span class="s1">&#39;forest&#39;</span> <span class="ow">in</span> <span class="n">current_theme_name</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;light&#39;</span> <span class="ow">in</span> <span class="n">current_theme_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lightthemepath</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">darkthemepath</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">theme_use</span><span class="p">(</span><span class="n">current_theme_name</span><span class="p">)</span>
        <span class="c1"># Create the dark theme</span>
        <span class="c1">#self.style.theme_create(&quot;dark&quot;, parent=&quot;alt&quot;, settings={</span>
        <span class="c1">#    &quot;TLabel&quot;: {&quot;configure&quot;: {&quot;background&quot;: &quot;black&quot;, &quot;foreground&quot;: &quot;white&quot;}},</span>
        <span class="c1">#    &quot;TButton&quot;: {&quot;configure&quot;: {&quot;background&quot;: &quot;black&quot;, &quot;foreground&quot;: &quot;white&quot;}},</span>
        <span class="c1">#    # Add more options here to style other widgets</span>
        <span class="c1">#})</span>
        
        <span class="c1"># Create the light theme</span>
        <span class="c1">#self.style.theme_create(&quot;light&quot;, parent=&quot;alt&quot;, settings={</span>
        <span class="c1">#    &quot;TLabel&quot;: {&quot;configure&quot;: {&quot;background&quot;: &quot;white&quot;, &quot;foreground&quot;: &quot;black&quot;}},</span>
        <span class="c1">#    &quot;TButton&quot;: {&quot;configure&quot;: {&quot;background&quot;: &quot;white&quot;, &quot;foreground&quot;: &quot;black&quot;}},</span>
        <span class="c1">#    # Add more options here to style other widgets</span>
        <span class="c1">#})</span>

    <span class="c1">#Method to log error message</span>
<div class="viewcode-block" id="SPRIT_App.log_errorMsg">
<a class="viewcode-back" href="../../sprit.sprit_tkinter_ui.html#sprit.SPRIT_App.log_errorMsg">[docs]</a>
    <span class="k">def</span> <span class="nf">log_errorMsg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logMsg</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">logMsg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log_tab</span><span class="p">)</span></div>


    <span class="c1">#Not currently working</span>
<div class="viewcode-block" id="SPRIT_App.manual_label_update">
<a class="viewcode-back" href="../../sprit.sprit_tkinter_ui.html#sprit.SPRIT_App.manual_label_update">[docs]</a>
    <span class="k">def</span> <span class="nf">manual_label_update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">notebook</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">notebook</span><span class="p">,</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Notebook</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">tab_id</span> <span class="ow">in</span> <span class="n">notebook</span><span class="o">.</span><span class="n">tabs</span><span class="p">():</span>
                    <span class="n">tab_frame</span> <span class="o">=</span> <span class="n">notebook</span><span class="o">.</span><span class="n">nametowidget</span><span class="p">(</span><span class="n">tab_id</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">tab_frame</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">):</span>
                            <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">frame</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
                                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">):</span>
                                    <span class="c1"># apply the updated style to the label</span>
                                    
                                    <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">layout</span><span class="p">(</span><span class="s1">&#39;CustTLabel&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;Label.border&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;sticky&#39;</span><span class="p">:</span> <span class="s1">&#39;nswe&#39;</span><span class="p">,</span> <span class="s1">&#39;border&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;Label.padding&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;sticky&#39;</span><span class="p">:</span> <span class="s1">&#39;nswe&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;Label.text&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;sticky&#39;</span><span class="p">:</span> <span class="s1">&#39;nswe&#39;</span><span class="p">})]})]})])</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="s1">&#39;CustTLabel&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="s1">&#39;background&#39;</span><span class="p">),</span> <span class="n">foreground</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="s1">&#39;background&#39;</span><span class="p">))</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">&#39;CustTLabel&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;priority&#39;</span><span class="p">:[(</span><span class="s1">&#39;CustTLabel&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)]})</span>
                                    <span class="n">widget</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;CustTLabel&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="SPRIT_App.create_menubar">
<a class="viewcode-back" href="../../sprit.sprit_tkinter_ui.html#sprit.SPRIT_App.create_menubar">[docs]</a>
    <span class="k">def</span> <span class="nf">create_menubar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">sprit_menu</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">on_theme_select</span><span class="p">():</span>
            <span class="c1"># Set the theme based on the selected value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Style</span><span class="p">()</span>

            <span class="c1">#Update the theme file so the new theme opens on reboot</span>
            <span class="n">prev_theme</span> <span class="o">=</span> <span class="n">curr_gui_dict</span><span class="p">[</span><span class="s1">&#39;theme_name&#39;</span><span class="p">]</span>
            <span class="n">curr_gui_dict</span><span class="p">[</span><span class="s1">&#39;theme_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">gui_theme_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">curr_gui_dict</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

            <span class="k">def</span> <span class="nf">apply_theme</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;forest&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;forest-dark&#39;</span> <span class="ow">and</span> <span class="s1">&#39;forest-dark&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">theme_names</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">darkthemepath</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;forest-light&#39;</span> <span class="ow">and</span> <span class="s1">&#39;forest-light&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">theme_names</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lightthemepath</span><span class="p">)</span>            
                <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;ttk::style&quot;</span><span class="p">,</span> <span class="s2">&quot;theme&quot;</span><span class="p">,</span> <span class="s2">&quot;use&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

            <span class="k">if</span> <span class="n">curr_gui_dict</span><span class="p">[</span><span class="s1">&#39;theme_name&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;forest-light&#39;</span> <span class="ow">or</span> <span class="n">curr_gui_dict</span><span class="p">[</span><span class="s1">&#39;theme_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;forest-dark&#39;</span><span class="p">:</span>
                <span class="n">do_reboot</span> <span class="o">=</span> <span class="n">messagebox</span><span class="o">.</span><span class="n">askyesno</span><span class="p">(</span><span class="s1">&#39;App Restart Required&#39;</span><span class="p">,</span> 
                                             <span class="sa">f</span><span class="s2">&quot;It is recommended to restart the SpRIT GUI at this time to apply this theme. If not, you may continue but theme errors may occur. Click No to retain current theme (</span><span class="si">{</span><span class="n">prev_theme</span><span class="si">}</span><span class="s2">) </span><span class="se">\n</span><span class="s2">Reboot now?&quot;</span><span class="p">,</span>
                                             <span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">do_reboot</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">do_reboot</span><span class="p">:</span>
                    <span class="n">reboot_app</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">prev_theme</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">apply_theme</span><span class="p">()</span>

<span class="w">            </span><span class="sd">&quot;&quot;&quot;An attempt to get the backgrounds right</span>
<span class="sd">            def apply_to_all_children(widget, func):</span>
<span class="sd">                Recursively apply a function to all child widgets of a given widget</span>
<span class="sd">                children = widget.winfo_children()</span>
<span class="sd">                for child in children:</span>
<span class="sd">                    func(child)</span>
<span class="sd">                    apply_to_all_children(child, func)</span>
<span class="sd">                return</span>

<span class="sd">            def change_background_color(widget):</span>
<span class="sd">                if isinstance(widget, tk.Label):</span>
<span class="sd">                    widget.option_clear()</span>
<span class="sd">                    widget.configure(background=None, foreground=None)</span>
<span class="sd">                return</span>
<span class="sd">            </span>
<span class="sd">            apply_to_all_children(self.master, change_background_color)</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="c1">#self.master.tk.call(&quot;ttk::setTheme&quot;, self.theme_var.get())</span>

            <span class="c1">#self.style.theme_use(self.theme_var.get())</span>
            <span class="c1">#self.master.tk.call(&#39;source&#39;, self.lightthemepath)</span>
            <span class="c1">#self.style.theme_use(self.theme_var.get())</span>
            <span class="c1">#self.style.configure(&quot;TLabel&quot;, background=self.style.lookup(&#39;TLabel&#39;, &#39;background&#39;), foreground=self.style.lookup(&#39;TLabel&#39;, &#39;background&#39;))</span>

        <span class="k">def</span> <span class="nf">import_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">()</span>
        
        
        <span class="k">def</span> <span class="nf">export_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">theme_menu</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">current_theme_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theme_menu</span><span class="o">.</span><span class="n">add_radiobutton</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Default&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_theme_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theme_menu</span><span class="o">.</span><span class="n">add_radiobutton</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Clam&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;clam&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_theme_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theme_menu</span><span class="o">.</span><span class="n">add_radiobutton</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Alt&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;alt&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_theme_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theme_menu</span><span class="o">.</span><span class="n">add_radiobutton</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Forest Light (buggy)&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;forest-light&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_theme_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theme_menu</span><span class="o">.</span><span class="n">add_radiobutton</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Forest Dark (buggy)&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme_var</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;forest-dark&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_theme_select</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sprit_menu</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Theme&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme_menu</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sprit_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Import Parameters&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">import_parameters</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sprit_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Export Parameters&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">export_parameters</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sprit_menu</span><span class="o">.</span><span class="n">add_separator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sprit_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_menu</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument_menu</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_menu</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument_var</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;Raspberry Shake&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument_menu</span><span class="o">.</span><span class="n">add_radiobutton</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Raspberry Shake&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument_var</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Raspberry Shake&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument_menu</span><span class="o">.</span><span class="n">add_radiobutton</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Tromino&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument_var</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Tromino&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument_menu</span><span class="o">.</span><span class="n">add_radiobutton</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Other&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument_var</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Other&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_menu</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Instrument&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument_menu</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Processing Settings&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;SPRIT&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sprit_menu</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Settings&quot;</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_menu</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="SPRIT_App.create_tabs">
<a class="viewcode-back" href="../../sprit.sprit_tkinter_ui.html#sprit.SPRIT_App.create_tabs">[docs]</a>
    <span class="k">def</span> <span class="nf">create_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Style</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>

        <span class="c1"># INPUT TAB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_tab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="p">)</span>

        <span class="c1"># Configure the row and column of the input_tab to have a non-zero weight</span>
        <span class="n">hvsrFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Input Parameters&quot;</span><span class="p">)</span>
        <span class="c1">#hvsrFrame.rowconfigure(0, weight=1)</span>
        <span class="n">hvsrFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Logo and Site Name</span>
        <span class="c1"># Replace &quot;logo.png&quot; with the path to your logo image</span>
        <span class="c1">#self.logo = tk.PhotoImage(file=&quot;logo.png&quot;)</span>
        <span class="c1">#self.logo_label = ttk.Label(hvsrFrame, image=self.logo)</span>
        <span class="c1">#self.logo_label.grid(row=0, column=0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">processingData</span> <span class="o">=</span> <span class="kc">False</span>

        
        <span class="k">def</span> <span class="nf">update_input_labels</span><span class="p">(</span><span class="n">hvsr_data</span><span class="p">):</span>
            <span class="c1">#Update labels for data preview tab</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input_data_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_filepath_entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;stream&#39;</span><span class="p">]))</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">obspySreamLabel_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;stream&#39;</span><span class="p">]))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">sensitivityLabelZ_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;Z&#39;</span><span class="p">][</span><span class="s1">&#39;sensitivity&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gainLabelZ_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;Z&#39;</span><span class="p">][</span><span class="s1">&#39;gain&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">polesLabelZ_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;Z&#39;</span><span class="p">][</span><span class="s1">&#39;poles&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">zerosLabelZ_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;Z&#39;</span><span class="p">][</span><span class="s1">&#39;zeros&#39;</span><span class="p">])</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">sensitivityLabelN_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;N&#39;</span><span class="p">][</span><span class="s1">&#39;sensitivity&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gainLabelN_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;N&#39;</span><span class="p">][</span><span class="s1">&#39;gain&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">polesLabelN_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;N&#39;</span><span class="p">][</span><span class="s1">&#39;poles&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">zerosLabelN_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;N&#39;</span><span class="p">][</span><span class="s1">&#39;zeros&#39;</span><span class="p">])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">sensitivityLabelE_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;E&#39;</span><span class="p">][</span><span class="s1">&#39;sensitivity&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gainLabelE_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;E&#39;</span><span class="p">][</span><span class="s1">&#39;gain&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">polesLabelE_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;E&#39;</span><span class="p">][</span><span class="s1">&#39;poles&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">zerosLabelE_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;paz&#39;</span><span class="p">][</span><span class="s1">&#39;E&#39;</span><span class="p">][</span><span class="s1">&#39;zeros&#39;</span><span class="p">])</span>
            <span class="k">return</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#Initialize</span>
        <span class="c1">#FUNCTION TO READ DATA</span>
        <span class="nd">@catch_errors</span>
        <span class="k">def</span> <span class="nf">read_data</span><span class="p">():</span>
            <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="c1">#messagebox.showinfo(title=&quot;Reading Data&quot;, message=&#39;Reading Data...&#39;)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">Reading data [</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="si">}</span><span class="s1">]</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span> <span class="o">=</span> <span class="n">get_times</span><span class="p">()</span>


            <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_params_call</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fetch_data_call</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;batch&#39;</span><span class="p">:</span>
                <span class="n">batchType</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_type</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


                <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>            
                <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">input_params</span><span class="p">(</span><span class="n">datapath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">,</span>
                                    <span class="n">metapath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta_path</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">site</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">site_name</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">network</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">station</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">loc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">channels</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">z_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">e_channel</span><span class="o">.</span><span class="n">get</span><span class="p">()],</span>
                                    <span class="n">acq_date</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="o">.</span><span class="n">date</span><span class="p">(),</span>
                                    <span class="n">starttime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="p">,</span>
                                    <span class="n">endtime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span><span class="p">,</span>
                                    <span class="n">tzone</span> <span class="o">=</span> <span class="s1">&#39;UTC&#39;</span><span class="p">,</span> <span class="c1">#Will always be converted to UTC before we get to this point when using gui</span>
                                    <span class="n">xcoord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">ycoord</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">elevation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">input_crs</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_crs</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">output_crs</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_crs</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">elev_unit</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">elev_unit</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">instrument</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrumentSel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">hvsr_band</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="p">)</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span>
                    <span class="n">trimDir</span><span class="o">=</span><span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">trimDir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">trim_dir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

                <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>            
                <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">fetch_data</span><span class="p">(</span><span class="n">params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">,</span>
                                            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                            <span class="n">trim_dir</span><span class="o">=</span><span class="n">trimDir</span><span class="p">,</span> 
                                            <span class="n">export_format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">export_format</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                            <span class="n">detrend</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                            <span class="n">detrend_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend_order</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                
                <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>                                
                <span class="bp">self</span><span class="o">.</span><span class="n">site_options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="o">.</span><span class="n">sites</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">site_options</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="n">firstSite</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]]</span>
                <span class="n">update_input_labels</span><span class="p">(</span><span class="n">firstSite</span><span class="p">)</span>
                <span class="n">update_site_dropdown</span><span class="p">()</span>

                <span class="c1">#Plot data in data preview tab</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig_pre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_pre</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">plot_stream</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="n">firstSite</span><span class="p">[</span><span class="s1">&#39;stream&#39;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="n">firstSite</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_pre</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_pre</span><span class="p">,</span> <span class="n">return_fig</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

                <span class="c1">#Plot data in noise preview tab</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">_plot_specgram_stream</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="n">firstSite</span><span class="p">[</span><span class="s1">&#39;stream&#39;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="n">firstSite</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="p">,</span> <span class="n">fill_gaps</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">component</span><span class="o">=</span><span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="n">stack_type</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">detrend</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">dbscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_fig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap_per</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.9</span><span class="p">])</span>
                <span class="n">select_windows</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">initialize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">plot_noise_windows</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="k">pass</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

                <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">input_params</span><span class="p">(</span> <span class="n">datapath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">,</span>
                                    <span class="n">metapath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta_path</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">site</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">site_name</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">network</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                    <span class="n">station</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                    <span class="n">loc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                    <span class="n">channels</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">z_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">e_channel</span><span class="o">.</span><span class="n">get</span><span class="p">()],</span>
                                    <span class="n">acq_date</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="o">.</span><span class="n">date</span><span class="p">(),</span>
                                    <span class="n">starttime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="p">,</span>
                                    <span class="n">endtime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span><span class="p">,</span>
                                    <span class="n">tzone</span> <span class="o">=</span> <span class="s1">&#39;UTC&#39;</span><span class="p">,</span> <span class="c1">#Will always be converted to UTC before we get to this point when using gui</span>
                                    <span class="n">xcoord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">ycoord</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">elevation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">input_crs</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_crs</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">output_crs</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_crs</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">elev_unit</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">elev_unit</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">instrument</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrumentSel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                    <span class="n">hvsr_band</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="o">.</span><span class="n">get</span><span class="p">()]</span> <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span>
                    <span class="n">trimDir</span><span class="o">=</span><span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">trimDir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">trim_dir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                
                <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">fetch_data</span><span class="p">(</span><span class="n">params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">,</span>
                                            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                            <span class="n">trim_dir</span><span class="o">=</span><span class="n">trimDir</span><span class="p">,</span> 
                                            <span class="n">export_format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">export_format</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                            <span class="n">detrend</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                            <span class="n">detrend_order</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend_order</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>

                <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
                <span class="n">update_input_labels</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">)</span>

                <span class="c1"># Plot data in data preview tab</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig_pre</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">plot_stream</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;stream&#39;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_pre</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_pre</span><span class="p">,</span> <span class="n">return_fig</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

                <span class="c1"># Plot data in noise preview tab</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">_plot_specgram_stream</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;stream&#39;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="p">,</span> <span class="n">fill_gaps</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">component</span><span class="o">=</span><span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="n">stack_type</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">detrend</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">dbscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_fig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap_per</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.9</span><span class="p">])</span>
                <span class="n">select_windows</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">initialize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">plot_noise_windows</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">processingData</span><span class="p">:</span>
                <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">preview_data_tab</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span>
        
        <span class="k">def</span> <span class="nf">report_results</span><span class="p">(</span><span class="n">hvsr_results</span><span class="p">,</span> <span class="n">azimuth</span><span class="o">=</span><span class="s1">&#39;HV&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1ResultText</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;Lw&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;Lw&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2ResultText</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;Nc&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;Nc&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3ResultText</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;_A(f)&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;_A(f)&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

            <span class="n">curvePass</span> <span class="o">=</span> <span class="p">(</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;WindowLengthFreq.&#39;</span><span class="p">]</span> <span class="o">+</span>
                                <span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;SignificantCycles&#39;</span><span class="p">]</span><span class="o">+</span>
                                <span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;LowCurveStDevOverTime&#39;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">curvePass</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">totalCurveResult</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">sprit_utils</span><span class="o">.</span><span class="n">check_mark</span><span class="p">(),</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">),</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">totalCurveResult</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">sprit_utils</span><span class="o">.</span><span class="n">x_mark</span><span class="p">(),</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">),</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1ResultText</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;A(f-)&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;A(f-)&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2ResultText</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;A(f+)&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;A(f+)&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3ResultText</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;A0&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;A0&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4ResultText</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;P-&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; and &#39;</span> <span class="o">+</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;P+&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;FreqStability&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">sprit_utils</span><span class="o">.</span><span class="n">check_mark</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">sprit_utils</span><span class="o">.</span><span class="n">x_mark</span><span class="p">())</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5ResultText</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;Sf&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;Sf&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6ResultText</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;Sa&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6Result</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;Report&#39;</span><span class="p">][</span><span class="s1">&#39;Sa&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

            <span class="n">peakPass</span> <span class="o">=</span> <span class="p">(</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;PeakProminenceBelow&#39;</span><span class="p">]</span> <span class="o">+</span>
                    <span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;PeakProminenceAbove&#39;</span><span class="p">]</span><span class="o">+</span>
                    <span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;PeakAmpClarity&#39;</span><span class="p">]</span><span class="o">+</span>
                    <span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;FreqStability&#39;</span><span class="p">]</span><span class="o">+</span>
                    <span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;PeakStability_FreqStD&#39;</span><span class="p">]</span><span class="o">+</span>
                    <span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;BestPeak&#39;</span><span class="p">][</span><span class="n">azimuth</span><span class="p">][</span><span class="s1">&#39;PassList&#39;</span><span class="p">][</span><span class="s1">&#39;PeakStability_AmpStD&#39;</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">5</span>
            <span class="k">if</span> <span class="n">peakPass</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">totalPeakResult</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">sprit_utils</span><span class="o">.</span><span class="n">check_mark</span><span class="p">(),</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">),</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">totalPeakResult</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">sprit_utils</span><span class="o">.</span><span class="n">x_mark</span><span class="p">(),</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">),</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">curvePass</span> <span class="ow">and</span> <span class="n">peakPass</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">totalResult</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Pass </span><span class="si">{</span><span class="n">sprit_utils</span><span class="o">.</span><span class="n">check_mark</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">),</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">totalResult</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Fail </span><span class="si">{</span><span class="n">sprit_utils</span><span class="o">.</span><span class="n">x_mark</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">),</span> <span class="n">foreground</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

            <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">plot_hvsr</span><span class="p">(</span><span class="n">hvsr_results</span><span class="p">,</span> <span class="n">plot_type</span><span class="o">=</span><span class="n">get_kindstr</span><span class="p">(),</span> <span class="n">fig</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_results</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_results</span><span class="p">,</span> <span class="n">use_subplots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clear_fig</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1">#FUNCTION TO PROCESS DATA</span>
        <span class="nd">@catch_errors</span>
        <span class="k">def</span> <span class="nf">process_data</span><span class="p">():</span>
            <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="c1">#messagebox.showinfo(&quot;Processing Data&quot;, &#39;Processing Data...&#39;)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">processingData</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#Set to true while data processing algorithm is being run</span>
            
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">()</span>
                <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Processing Data [</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="si">}</span><span class="s2">]</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_ppsd_call</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

            
            <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">remove_noise</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">,</span>
                                                     <span class="n">remove_method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
                                                     <span class="n">sat_percent</span><span class="o">=</span><span class="mf">0.995</span><span class="p">,</span>
                                                     <span class="n">noise_percent</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
                                                     <span class="n">sta</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                                     <span class="n">lta</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                                                     <span class="n">stalta_thresh</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
                                                     <span class="n">warmup_time</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                     <span class="n">cooldown_time</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                     <span class="n">min_win_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                     <span class="n">remove_raw_noise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">plot_noise_windows</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">)</span>

            <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">generate_ppsds</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">,</span> 
                                                <span class="n">remove_outliers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">remove_outliers</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                <span class="n">outlier_std</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">outlier_std</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                <span class="n">ppsd_length</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_length</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                <span class="n">overlap</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlap</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                <span class="n">period_step_octaves</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">perStepOct</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                <span class="n">skip_on_gaps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">skip_on_gaps</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                <span class="n">db_bins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db_bins</span><span class="p">,</span>
                                                <span class="n">period_limits</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">period_limits</span><span class="p">,</span>
                                                <span class="n">period_smoothing_width_octaves</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">perSmoothWidthOct</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                <span class="n">special_handling</span><span class="o">=</span><span class="n">special_handling</span><span class="c1">#, verbose=True</span>
                                               <span class="p">)</span>
            <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">remove_outlier_curves</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">,</span>
                                            <span class="n">rmse_thresh</span><span class="o">=</span><span class="mi">98</span><span class="p">,</span>
                                            <span class="n">use_percentile</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                            <span class="n">use_hv_curve</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                                            <span class="n">show_plot</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">procHVSR_call</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">process_hvsr</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">,</span>
                                                   <span class="n">method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method_ind</span><span class="p">,</span>
                                                   <span class="n">smooth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth_param</span><span class="p">,</span>
                                                   <span class="n">freq_smooth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">freq_smooth</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                   <span class="n">f_smooth_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fSmoothWidth</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                                   <span class="n">resample</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvresample_int</span><span class="p">,</span>
                                                   <span class="n">outlier_curve_rmse_percentile</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>


            <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">checkPeaks_Call</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">check_peaks</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">,</span> 
                                                  <span class="n">hvsr_band</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="o">.</span><span class="n">get</span><span class="p">()],</span>
                                                  <span class="n">peak_freq_range</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_max</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>
            <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">95</span><span class="p">)</span>


            <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">checkPeaks_Call</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">,</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">HVSRData</span><span class="p">):</span>
                <span class="n">report_results</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectFrame</span><span class="o">.</span><span class="n">grid_forget</span><span class="p">()</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">,</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">HVSRBatch</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
                <span class="n">report_results</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="o">.</span><span class="n">sites</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Data is of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">)</span><span class="si">}</span><span class="s1">; should be HVSRData or HVSRBatch type.&#39;</span><span class="p">)</span>

            <span class="c1">#Log results</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Processing completed at [</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="si">}</span><span class="s2">]</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">get_report</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">,</span> <span class="n">report_format</span><span class="o">=</span><span class="s1">&#39;print&#39;</span><span class="p">,</span> <span class="n">no_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">,</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">HVSRData</span><span class="p">):</span>
                <span class="c1">#format data to be same as HVSRBatch</span>
                <span class="n">hvsrResults</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sitename_placeholder&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">hvsrResults</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span>

            <span class="k">for</span> <span class="n">sitename</span> <span class="ow">in</span> <span class="n">hvsrResults</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hvsrResults</span><span class="p">[</span><span class="n">sitename</span><span class="p">][</span><span class="s1">&#39;Print_Report&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">processingData</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span><span class="p">)</span>
            <span class="n">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

        <span class="k">global</span> <span class="n">update_progress_bars</span>
        <span class="k">def</span> <span class="nf">update_progress_bars</span><span class="p">(</span><span class="n">prog_percent</span><span class="p">,</span> <span class="n">process_name</span><span class="o">=</span><span class="s1">&#39;Processing&#39;</span><span class="p">):</span>
            <span class="n">progBarListList</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">inputProgBar</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="kc">True</span><span class="p">],</span> 
                                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">prevProgBar</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="kc">True</span><span class="p">],</span> 
                                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">noiseProgBar</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="kc">True</span><span class="p">],</span> 
                                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">settingsProgBar_ppsd</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="kc">True</span><span class="p">],</span>
                                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">settingsProgBar_hvsr</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="kc">True</span><span class="p">],</span>
                                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">settingsProgBar_plot</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="kc">True</span><span class="p">],</span> 
                                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">logProgBar</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">11</span><span class="p">),</span> <span class="kc">False</span><span class="p">],</span> 
                                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">resultsProgBar</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">26</span><span class="p">),</span> <span class="kc">False</span><span class="p">]]</span>
            
            <span class="k">def</span> <span class="nf">prog_bar_update</span><span class="p">(</span><span class="n">progBarListList</span><span class="p">,</span> <span class="n">progPercent</span><span class="p">,</span> <span class="n">processName</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">bar</span> <span class="ow">in</span> <span class="n">progBarListList</span><span class="p">:</span>
                    <span class="n">progBar</span> <span class="o">=</span> <span class="n">bar</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">barLoc</span> <span class="o">=</span> <span class="n">bar</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

                    <span class="n">progBar</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">progPercent</span>

                    <span class="k">if</span> <span class="n">progPercent</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                        <span class="n">progBar</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                        <span class="n">progBar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">barLoc</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">column</span><span class="o">=</span><span class="n">barLoc</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">progPercent</span><span class="o">==</span><span class="mi">100</span><span class="p">:</span>
                        <span class="n">progBar</span><span class="o">.</span><span class="n">grid_forget</span><span class="p">()</span>

                    <span class="n">progBar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">prog_bar_update</span><span class="p">(</span><span class="n">progBarListList</span><span class="o">=</span><span class="n">progBarListList</span><span class="p">,</span> <span class="n">progPercent</span><span class="o">=</span><span class="n">prog_percent</span><span class="p">,</span> <span class="n">processName</span><span class="o">=</span><span class="n">process_name</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="c1">#self.update_idletasks()</span>

        <span class="k">def</span> <span class="nf">update_input_params_call</span><span class="p">():</span>
            <span class="n">prevCall</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_params_call</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input_params_call</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;input_params( datapath=&#39;</span><span class="si">{}</span><span class="s2">&#39;, metapath=</span><span class="si">{}</span><span class="s2">, site=&#39;</span><span class="si">{}</span><span class="s2">&#39;, instrument=&#39;</span><span class="si">{}</span><span class="s2">&#39;,</span><span class="se">\n\t</span><span class="s2">network=&#39;</span><span class="si">{}</span><span class="s2">&#39;, station=&#39;</span><span class="si">{}</span><span class="s2">&#39;, loc=&#39;</span><span class="si">{}</span><span class="s2">&#39;, channels=[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">], </span><span class="se">\n\t</span><span class="s2">acq_date=&#39;</span><span class="si">{}</span><span class="s2">&#39;, starttime=&#39;</span><span class="si">{}</span><span class="s2">&#39;, endttime=&#39;</span><span class="si">{}</span><span class="s2">&#39;, tzone=&#39;</span><span class="si">{}</span><span class="s2">&#39;, </span><span class="se">\n\t</span><span class="s2">xcoord=</span><span class="si">{}</span><span class="s2">, ycoord=</span><span class="si">{}</span><span class="s2">, elevation=</span><span class="si">{}</span><span class="s2">, input_crs=&#39;</span><span class="si">{}</span><span class="s2">&#39;, output_crs=&#39;</span><span class="si">{}</span><span class="s2">&#39;, elev_unit=&#39;</span><span class="si">{}</span><span class="s2">&#39;,  </span><span class="se">\n\t</span><span class="s2">hvsr_band=[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">], peak_freq_range=[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">])&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta_path</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">site_name</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrumentSel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">z_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">e_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">tz</span><span class="p">,</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                            <span class="bp">self</span><span class="o">.</span><span class="n">input_crs</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_crs</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">elev_unit</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                            <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_max</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
            
            <span class="n">newCall</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_params_call</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">prevCall</span><span class="o">==</span><span class="n">newCall</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span><span class="o">=</span><span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1">#Specify site name        </span>
        <span class="n">siteLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Site Name&quot;</span><span class="p">)</span>
        <span class="n">siteLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_name</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_name</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;HVSR Site&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_name_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">site_name</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_name_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="k">def</span> <span class="nf">on_source_select</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">sourceLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;source=&#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="n">update_fetch_call</span><span class="p">()</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;raw&#39;</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;dir&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">browse_data_filepath_button</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Browse Folder&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="o">.</span><span class="n">grid_forget</span><span class="p">()</span>
                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;batch&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">browse_data_filepath_button</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Browse File(s)&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">browse_data_filepath_button</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Browse File(s)&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="o">.</span><span class="n">grid_forget</span><span class="p">()</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="n">sourceLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;source=&#39;file&#39;&quot;</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Data Source Type [str]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">sourcFrame</span><span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">)</span>
        <span class="n">sourcFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_source</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">sourcFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;File&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_source_select</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">sourcFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Raw&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;raw&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_source_select</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">sourcFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Batch&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;batch&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_source_select</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">sourcFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Directory&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;dir&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_source_select</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1">#Instrument select</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Instrument&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">inst_options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Raspberry Shake&quot;</span><span class="p">,</span> <span class="s2">&quot;Tromino&quot;</span><span class="p">,</span> <span class="s2">&quot;Other&quot;</span><span class="p">]</span>

        
        <span class="k">def</span> <span class="nf">on_option_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">):</span>
            <span class="n">update_input_params_call</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">inst</span> <span class="o">==</span> <span class="s2">&quot;Raspberry Shake&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">network_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">station_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">location_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">z_channel_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">e_channel_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">n_channel_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">z_channel_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;EHZ&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">e_channel_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;EHE&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">n_channel_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;EHN&quot;</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">network_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">network_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;AM&quot;</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">station_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">station_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;RAC84&quot;</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">location_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">location_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;00&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">network_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">station_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">location_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">instrumentSel</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">inst_options</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument_dropdown</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">OptionMenu</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrumentSel</span><span class="p">,</span> <span class="n">inst_options</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">*</span><span class="n">inst_options</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_option_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument_dropdown</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1"># Data Filepath</span>
        <span class="n">dataLabel</span><span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Data Filepath&quot;</span><span class="p">)</span>
        <span class="n">dataLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mf">2.55</span><span class="p">))</span>
    
        <span class="c1">#Function to set self.data_read False whenever the data_path is updated</span>
        
        <span class="k">def</span> <span class="nf">on_data_path_change</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">trace_mode</span><span class="p">):</span>
            <span class="c1">#If our data path changes, data is registered as not having been read</span>
            <span class="c1">#This is primarily so that if just the Run button is pushed, it will know to first read the data</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span>
        
        <span class="k">def</span> <span class="nf">filepath_update</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">update_input_params_call</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_path</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;sample&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">trace_add</span><span class="p">(</span><span class="s1">&#39;write&#39;</span><span class="p">,</span> <span class="n">on_data_path_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_filepath_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">filepath_update</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_filepath_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mf">2.55</span><span class="p">))</span>

        
        <span class="k">def</span> <span class="nf">browse_data_filepath</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;raw&#39;</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;dir&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askdirectory</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_filepath_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_filepath_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilenames</span><span class="p">()</span>
                
                <span class="c1">#fpath will always be tuple</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">no_data_files</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span>
                    
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_filepath_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">data_filepath_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span>
                
            <span class="n">update_input_params_call</span><span class="p">()</span>

        <span class="n">buttonFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">)</span>
        <span class="n">buttonFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">browse_data_filepath_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">buttonFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Browse File(s)&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">browse_data_filepath</span><span class="p">)</span>

        <span class="c1">#self.browse_data_filepath_button.grid(row=1, column=6, sticky=&#39;ew&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browse_data_filepath_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mf">2.55</span><span class="p">))</span>

        <span class="c1"># Metadata Filepath</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Metadata Filepath&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meta_path</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meta_path</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_filepath_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">meta_path</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_filepath_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
        
        
        <span class="k">def</span> <span class="nf">browse_metadata_filepath</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#New file will not have been read, set to False</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">metadata_filepath_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">metadata_filepath_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>
            <span class="n">update_input_params_call</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">browse_metadata_filepath_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Browse&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">browse_metadata_filepath</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browse_metadata_filepath_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

        
        <span class="k">def</span> <span class="nf">update_acq_date</span><span class="p">():</span>
            <span class="n">aMonth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acq_month</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">aMonth</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;0&#39;</span><span class="p">:</span>
                <span class="n">aMonth</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">aMonth</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="n">aDay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acq_day</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">aDay</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;0&#39;</span><span class="p">:</span>
                <span class="n">aDay</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">aDay</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_year</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">month</span><span class="o">=</span><span class="n">aMonth</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">aDay</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">day_of_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span><span class="o">.</span><span class="n">timetuple</span><span class="p">()</span><span class="o">.</span><span class="n">tm_yday</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">doy_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">day_of_year</span><span class="p">))</span>
            <span class="n">update_input_params_call</span><span class="p">()</span>

        <span class="c1"># Date and Time</span>
        <span class="n">dateFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">)</span>
        <span class="n">dateFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">dateFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Date&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">acq_year</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acq_year</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acq_year_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Spinbox</span><span class="p">(</span><span class="n">dateFrame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_year</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_acq_date</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">acq_year_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">acq_month</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acq_month</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">month</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acq_month_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Spinbox</span><span class="p">(</span><span class="n">dateFrame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_month</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_acq_date</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">acq_month_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">acq_day</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acq_day</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">day</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acq_day_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Spinbox</span><span class="p">(</span><span class="n">dateFrame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">31</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_day</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_acq_date</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">acq_day_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
        
        <span class="n">sTimeFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">)</span>
        <span class="n">sTimeFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">get_times</span><span class="p">():</span>
            <span class="c1">#Format starttime as datetime object (in timezone as originally entered)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_year</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">month</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_month</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">day</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_day</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

            <span class="n">sHour</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_hour</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">sHour</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
                <span class="n">sHour</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sHour</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

            <span class="n">sMin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_minute</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">sMin</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
                <span class="n">sMin</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sMin</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span><span class="o">.</span><span class="n">year</span><span class="p">),</span>
                                          <span class="n">month</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span><span class="o">.</span><span class="n">month</span><span class="p">),</span>
                                          <span class="n">day</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span><span class="o">.</span><span class="n">day</span><span class="p">),</span>
                                          <span class="n">hour</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sHour</span><span class="p">),</span>
                                          <span class="n">minute</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sMin</span><span class="p">),</span>
                                          <span class="n">tzinfo</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tz</span><span class="p">)</span>
            
            <span class="c1">#Get duration, as originally entered</span>
            <span class="n">hour_dur</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_hour</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_hour</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">hour_dur</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">hour_dur</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_hour</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">+</span> <span class="mi">24</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_hour</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="n">min_dur</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_minute</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_minute</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

            <span class="c1">#Convert starttime to utc</span>
            <span class="c1">#self.starttime = self.tz.normalize(self.tz.localize(self.starttime)).astimezone(pytz.utc)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>

            <span class="c1">#Get endttime based on utc starttime and original duration</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="n">hour_dur</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="n">min_dur</span><span class="p">)</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tz</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span>

        
        <span class="k">def</span> <span class="nf">any_time_change</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#New file will not have been read, set to False            </span>
            <span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_year</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">month</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_month</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">day</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_day</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span> <span class="o">=</span> <span class="n">get_times</span><span class="p">()</span>
            <span class="n">update_input_params_call</span><span class="p">()</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Start Time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> 
        <span class="n">colonLabel</span><span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sTimeFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">)</span><span class="c1">#.grid(row=3, column=4, padx=(20,0), sticky=&#39;w&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_hour</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_hour</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">00</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time_hour_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Spinbox</span><span class="p">(</span><span class="n">sTimeFrame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_hour</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">any_time_change</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time_hour_entry</span><span class="c1">#.grid(row=3, column=4, sticky=&#39;w&#39;) </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_minute</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_minute</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">00</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time_min_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Spinbox</span><span class="p">(</span><span class="n">sTimeFrame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">59</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_minute</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">any_time_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time_min_entry</span><span class="c1">#.grid(row=3, column=4, padx=80, sticky=&#39;w&#39;) </span>
        
        <span class="c1">#sTLabel.pack(side=&quot;left&quot;, fill=&quot;x&quot;, expand=True)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time_hour_entry</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">colonLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time_min_entry</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        
        <span class="n">eTimeFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">)</span>
        <span class="n">eTimeFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;End Time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> 
        <span class="n">colonLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">eTimeFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">)</span><span class="c1">#.grid(row=3, column=6, padx=(20,0), sticky=&#39;w&#39;)  </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_hour</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_hour</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time_hour_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Spinbox</span><span class="p">(</span><span class="n">eTimeFrame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_hour</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">any_time_change</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time_hour_entry</span><span class="c1">#.grid(row=3, column=+, sticky=&#39;w&#39;) </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_minute</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_minute</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">59</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time_min_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Spinbox</span><span class="p">(</span><span class="n">eTimeFrame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">59</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_minute</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">any_time_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time_min_entry</span><span class="c1">#.grid(row=3, column=+, padx=80, sticky=&#39;w&#39;) </span>

        <span class="c1">#eTLabel.pack(side=&quot;left&quot;, fill=&quot;x&quot;, expand=True)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time_hour_entry</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">colonLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time_min_entry</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_year</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">month</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_month</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">day</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acq_day</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span> <span class="o">=</span> <span class="n">get_times</span><span class="p">()</span>

        
        <span class="k">def</span> <span class="nf">onTimezoneSelect</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
            <span class="c1">#Listbox &quot;loses&quot; selection and triggers an event sometimes, so need to check if that is just what happened</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span><span class="o">.</span><span class="n">curselection</span><span class="p">():</span>
                <span class="c1">#If it was an actual selection, update timezone</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tz</span> <span class="o">=</span> <span class="n">zoneinfo</span><span class="o">.</span><span class="n">ZoneInfo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span><span class="o">.</span><span class="n">curselection</span><span class="p">()))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">#If it was just the listbox losing the selection, don&#39;t change anything</span>
                <span class="k">pass</span>
            <span class="n">update_input_params_call</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Listbox</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">selectmode</span><span class="o">=</span><span class="s1">&#39;browse&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="s1">&#39;UTC&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="s1">&#39;US/Central&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">tz</span> <span class="ow">in</span> <span class="n">zoneinfo</span><span class="o">.</span><span class="n">available_timezones</span><span class="p">():</span><span class="c1"># pytz.all_timezones:</span>
            <span class="k">if</span> <span class="n">tz</span> <span class="o">!=</span><span class="s1">&#39;UTC&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span><span class="o">.</span><span class="n">selection_set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;&lt;ListboxSelect&gt;&gt;&#39;</span><span class="p">,</span> <span class="n">onTimezoneSelect</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Timezone&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timezone_listbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">26</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1"># DOY</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">day_of_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span><span class="o">.</span><span class="n">timetuple</span><span class="p">()</span><span class="o">.</span><span class="n">tm_yday</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Day of Year:&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">doy_label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">day_of_year</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">doy_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># UTC Time Output</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;UTC Time:&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utc_time_output_label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utc_time_output_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

        <span class="c1"># Initialize as UTC</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tz</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span> <span class="o">=</span> <span class="n">get_times</span><span class="p">()</span>

        <span class="c1"># X Y Z CRS Depth</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;X&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Input CRS&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_crs</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_crs</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;EPSG:4326&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_crs_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_crs</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_crs_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Output CRS&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_crs</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_crs</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;EPSG:4326&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_crs_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_crs</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_crs_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Elevation Unit&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">elevUnitFrame</span><span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">)</span>
        <span class="n">elevUnitFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elev_unit</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elev_unit</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;meters&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">elevUnitFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Meters&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">elev_unit</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;meters&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">elevUnitFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Feet&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">elev_unit</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;feet&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1"># Network Station Location</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Network&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">network</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;AM&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">network_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">network_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Station&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">station</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;RAC84&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">station_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">station_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Location&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;00&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Z N E Channels</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Z Channel&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_channel</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_channel</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;EHZ&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_channel_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">z_channel</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_channel_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;N Channel&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_channel</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_channel</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;EHN&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_channel_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_channel</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_channel_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;E Channel&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">e_channel</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">e_channel</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;EHE&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">e_channel_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">e_channel</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_input_params_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">e_channel_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># HVSR Band</span>
        <span class="k">def</span> <span class="nf">on_hvsrband_update</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

                <span class="n">hvsrBandLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hvsr_band=[</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>                
                <span class="n">update_check_peaks_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkPeaks_Call</span><span class="p">)</span>
                <span class="n">update_input_params_call</span><span class="p">()</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>      
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;HVSR Band&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">hvsrbandframe</span><span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">)</span>
        <span class="n">hvsrbandframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.4</span><span class="p">)</span>
        <span class="n">hvsr_band_min_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrbandframe</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_hvsrband_update</span><span class="p">)</span>
        <span class="n">hvsr_band_min_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
        <span class="n">hvsr_band_max_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrbandframe</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_hvsrband_update</span><span class="p">)</span>
        <span class="n">hvsr_band_max_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

        <span class="c1"># Peak Freq Range Band</span>
        <span class="k">def</span> <span class="nf">on_peakFreqRange_update</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_min</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_max</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

                <span class="n">peakFreqRangeLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;peak_freq_range=[</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_max</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>                
                <span class="n">update_check_peaks_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkPeaks_Call</span><span class="p">)</span>
                <span class="n">update_input_params_call</span><span class="p">()</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>      
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Peak Freq. Range&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">peakFreqRangeframe</span><span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">)</span>
        <span class="n">peakFreqRangeframe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_min</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_min</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.4</span><span class="p">)</span>
        <span class="n">peakFreqRange_min_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">peakFreqRangeframe</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_min</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_peakFreqRange_update</span><span class="p">)</span>
        <span class="n">peakFreqRange_min_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_max</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_max</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
        <span class="n">peakFreqRange_max_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">peakFreqRangeframe</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_max</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_peakFreqRange_update</span><span class="p">)</span>
        <span class="n">peakFreqRange_max_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

        <span class="c1">#BATCH Section</span>
        <span class="k">def</span> <span class="nf">update_batch_data_read_call</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">batch_read_data_call</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;batch_data_read(input_data, batch_type=&#39;</span><span class="si">{}</span><span class="s2">&#39;, param_col=</span><span class="si">{}</span><span class="s2">, batch_params=</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                                                                        <span class="bp">self</span><span class="o">.</span><span class="n">batch_type</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">param_col</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_params</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
            <span class="k">return</span>
        
        <span class="k">def</span> <span class="nf">on_batch_type_select</span><span class="p">():</span>
            <span class="n">update_batch_data_read_call</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Batch Options&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Batch Type&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">batchTypeFrame</span><span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="p">)</span>
        <span class="n">batchTypeFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_type</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_type</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">batchTypeFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Table&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_type</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_batch_type_select</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">batchTypeFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;File list&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_type</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;filelist&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_batch_type_select</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Parameter column name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param_col</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param_col</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param_col_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">param_col</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_batch_data_read_call</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param_col_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;For batch_type=&#39;table&#39; with single parameter column only&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Batch parameters&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_params</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_params</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_params_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_params</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_batch_data_read_call</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_params_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;To specify parameters used for reading in data&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">batch_read_data_call</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;batch_data_read(input_data, batch_type=</span><span class="si">{}</span><span class="s2">, param_col=</span><span class="si">{}</span><span class="s2">, batch_params=</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                                                                        <span class="bp">self</span><span class="o">.</span><span class="n">batch_type</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">param_col</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_params</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_read_data_call</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_options_frame</span><span class="o">.</span><span class="n">grid_forget</span><span class="p">()</span>
        
        <span class="n">separator</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="n">separator</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        
        <span class="k">def</span> <span class="nf">update_fetch_call</span><span class="p">():</span>
            <span class="n">prevCall</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_params_call</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">trim_dir</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">trim_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#New file will not have been read, set to False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fetch_data_call</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;fetch_data(params, source=&#39;</span><span class="si">{}</span><span class="s2">&#39;, trim_dir=</span><span class="si">{}</span><span class="s2">, export_format=&#39;</span><span class="si">{}</span><span class="s2">&#39;, detrend=&#39;</span><span class="si">{}</span><span class="s2">&#39;, detrend_order=</span><span class="si">{}</span><span class="s2">)&quot;</span>
                                            <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">trim_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_format</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">detrend_order</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
            
            <span class="n">newCall</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_params_call</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">prevCall</span><span class="o">==</span><span class="n">newCall</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span><span class="o">=</span><span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_read</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1">#export_format=&#39;.mseed&#39;</span>
        
        <span class="k">def</span> <span class="nf">on_obspyFormatSelect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">update_fetch_call</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Data Format&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">obspyformats</span> <span class="o">=</span>  <span class="p">[</span><span class="s1">&#39;AH&#39;</span><span class="p">,</span> <span class="s1">&#39;ALSEP_PSE&#39;</span><span class="p">,</span> <span class="s1">&#39;ALSEP_WTH&#39;</span><span class="p">,</span> <span class="s1">&#39;ALSEP_WTN&#39;</span><span class="p">,</span> <span class="s1">&#39;CSS&#39;</span><span class="p">,</span> <span class="s1">&#39;DMX&#39;</span><span class="p">,</span> <span class="s1">&#39;GCF&#39;</span><span class="p">,</span> <span class="s1">&#39;GSE1&#39;</span><span class="p">,</span> <span class="s1">&#39;GSE2&#39;</span><span class="p">,</span> <span class="s1">&#39;KINEMETRICS_EVT&#39;</span><span class="p">,</span> <span class="s1">&#39;KNET&#39;</span><span class="p">,</span> <span class="s1">&#39;MSEED&#39;</span><span class="p">,</span> <span class="s1">&#39;NNSA_KB_CORE&#39;</span><span class="p">,</span> <span class="s1">&#39;PDAS&#39;</span><span class="p">,</span> <span class="s1">&#39;PICKLE&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;REFTEK130&#39;</span><span class="p">,</span> <span class="s1">&#39;RG16&#39;</span><span class="p">,</span> <span class="s1">&#39;SAC&#39;</span><span class="p">,</span> <span class="s1">&#39;SACXY&#39;</span><span class="p">,</span> <span class="s1">&#39;SEG2&#39;</span><span class="p">,</span> <span class="s1">&#39;SEGY&#39;</span><span class="p">,</span> <span class="s1">&#39;SEISAN&#39;</span><span class="p">,</span> <span class="s1">&#39;SH_ASC&#39;</span><span class="p">,</span> <span class="s1">&#39;SLIST&#39;</span><span class="p">,</span> <span class="s1">&#39;SU&#39;</span><span class="p">,</span> <span class="s1">&#39;TSPAIR&#39;</span><span class="p">,</span> <span class="s1">&#39;WAV&#39;</span><span class="p">,</span> <span class="s1">&#39;WIN&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">export_format</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">obspyformats</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_format_dropdown</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">OptionMenu</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_format</span><span class="p">,</span> <span class="n">obspyformats</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span> <span class="o">*</span><span class="n">obspyformats</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_obspyFormatSelect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_format_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1">#detrend=&#39;spline&#39;</span>
        
        <span class="k">def</span> <span class="nf">on_detrend_select</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">update_fetch_call</span><span class="p">()</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="n">sourceLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;source=&#39;raw&#39;&quot;</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Detrend type [str]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">detrendFrame</span><span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">)</span>
        <span class="n">detrendFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detrend</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;spline&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">detrendFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Spline&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;spline&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_detrend_select</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">detrendFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Polynomial&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;polynomial&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_detrend_select</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">detrendFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_detrend_select</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1">#detrend_order=2</span>
        
        <span class="k">def</span> <span class="nf">on_detrend_order</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend_order</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">update_fetch_call</span><span class="p">()</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
                     
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Detrend Order [int]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detrend_order</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detrend_order</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detrend_order_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detrend_order</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_detrend_order</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detrend_order_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        
        <span class="c1">#trim_dir=False</span>
        <span class="k">def</span> <span class="nf">on_trim_dir</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trim_dir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">update_fetch_call</span><span class="p">()</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Output Directory (trimmed data)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">trim_dir</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_trim_dir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
        
        
        <span class="k">def</span> <span class="nf">browse_trim_dir_filepath</span><span class="p">():</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askdirectory</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir_filepath_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">hvsrFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Browse&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">browse_trim_dir_filepath</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trim_dir_filepath_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

        <span class="c1">#self.starttime, self.endtime = get_times()</span>
        <span class="n">input_params_LF</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;input_params() call&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_params_call</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">input_params_LF</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;input_params( datapath=&#39;</span><span class="si">{}</span><span class="s2">&#39;, metapath=</span><span class="si">{}</span><span class="s2">, site=&#39;</span><span class="si">{}</span><span class="s2">&#39;, instrument=&#39;</span><span class="si">{}</span><span class="s2">&#39;,</span><span class="se">\n\t</span><span class="s2">network=&#39;</span><span class="si">{}</span><span class="s2">&#39;, station=&#39;</span><span class="si">{}</span><span class="s2">&#39;, loc=&#39;</span><span class="si">{}</span><span class="s2">&#39;, channels=[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">], </span><span class="se">\n\t</span><span class="s2">acq_date=&#39;</span><span class="si">{}</span><span class="s2">&#39;, starttime=&#39;</span><span class="si">{}</span><span class="s2">&#39;, endttime=&#39;</span><span class="si">{}</span><span class="s2">&#39;, tzone=&#39;</span><span class="si">{}</span><span class="s2">&#39;, </span><span class="se">\n\t</span><span class="s2">xcoord=</span><span class="si">{}</span><span class="s2">, ycoord=</span><span class="si">{}</span><span class="s2">, elevation=</span><span class="si">{}</span><span class="s2">, input_crs=&#39;</span><span class="si">{}</span><span class="s2">&#39;, output_crs=&#39;</span><span class="si">{}</span><span class="s2">&#39;, elev_unit=&#39;</span><span class="si">{}</span><span class="s2">&#39;,   </span><span class="se">\n\t</span><span class="s2">hvsr_band=[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">], peak_freq_range=[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">])&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta_path</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">site_name</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrumentSel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">z_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">e_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_channel</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">acq_date</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">endtime</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">tz</span><span class="p">,</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                            <span class="bp">self</span><span class="o">.</span><span class="n">input_crs</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_crs</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">elev_unit</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                            <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_min</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_max</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_params_call</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="c1">#fetch_data() call</span>
        <span class="n">fetch_data_LF</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;fetch_data() call&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fetch_data_call</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">fetch_data_LF</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;fetch_data(params, source=</span><span class="si">{}</span><span class="s2">, trim_dir=</span><span class="si">{}</span><span class="s2">, export_format=</span><span class="si">{}</span><span class="s2">, detrend=</span><span class="si">{}</span><span class="s2">, detrend_order=</span><span class="si">{}</span><span class="s2">)&quot;</span>
                                                                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_source</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_format</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">detrend</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">detrend_order</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fetch_data_call</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="c1">#Set up frame for reading and running</span>
        <span class="n">runFrame_hvsr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_tab</span><span class="p">)</span>
        <span class="n">runFrame_hvsr</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">inputProgBar</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span><span class="n">runFrame_hvsr</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inputProgBar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;,expand=True, side=&#39;left&#39;, anchor=&#39;sw&#39;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;Custom.TButton&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s1">&#39;#d49949&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">runFrame_hvsr</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Read Data&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">read_data</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Custom.TButton&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="s1">&#39;Run.TButton&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s1">&#39;#8b9685&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">runFrame_hvsr</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Run&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Run.TButton&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">process_data</span><span class="p">)</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span><span class="c1">#.pack(side=&#39;right&#39;, anchor=&#39;se&#39;, padx=(10,0))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span><span class="c1">#.pack(side=&#39;right&#39;, anchor=&#39;se&#39;)</span>

        <span class="n">hvsrFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, sticky=&quot;nsew&quot;)</span>
        <span class="n">runFrame_hvsr</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
        <span class="n">fetch_data_LF</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
        <span class="n">input_params_LF</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_tab</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Input&quot;</span><span class="p">)</span>

        <span class="c1">#Data Preview Tab</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preview_data_tab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="p">)</span>

        <span class="c1"># Configure the row and column of the input_tab to have a non-zero weight</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preview_data_tab</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">inputdataFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">preview_data_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Input Data Viewer&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inputdataFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">inputInfoFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputdataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Input Data Info&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_data_label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_filepath_entry</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_data_label</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>                
        <span class="bp">self</span><span class="o">.</span><span class="n">inputInfoFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">inputDataViewFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inputdataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Input Data Plot&quot;</span><span class="p">)</span>
                    
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">inputInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_filepath_entry</span><span class="o">.</span><span class="n">get</span><span class="p">())</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span><span class="c1">#.grid(row=0, column=0)</span>

        <span class="c1">#Set up plot</span>
        <span class="c1">#Reset axes, figure, and canvas widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig_pre</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

        <span class="n">prev_mosaic</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;Z&#39;</span><span class="p">],[</span><span class="s1">&#39;N&#39;</span><span class="p">],[</span><span class="s1">&#39;E&#39;</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_pre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig_pre</span><span class="o">.</span><span class="n">subplot_mosaic</span><span class="p">(</span><span class="n">prev_mosaic</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_pre</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_pre</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">inputDataViewFrame</span><span class="p">)</span>  <span class="c1"># A tk.DrawingArea.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_pre</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvasPreWidget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas_pre</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span><span class="c1">#.pack(side=tk.TOP, fill=tk.BOTH, expand=1)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preview_toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar2Tk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_pre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputDataViewFrame</span><span class="p">,</span> <span class="n">pack_toolbar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preview_toolbar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    
        <span class="c1">#self.canvas_pre.mpl_connect(&quot;button_release_event&quot;, select_windows)</span>

        <span class="c1">#Save preview figure</span>
        <span class="n">savePrevFigFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">inputDataViewFrame</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">savePrevFigFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Export Figure&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previewFig_dir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previewFig_dir_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">savePrevFigFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">previewFig_dir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previewFig_dir_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        
        
        <span class="k">def</span> <span class="nf">filepath_preview_fig</span><span class="p">():</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">defaultextension</span><span class="o">=</span><span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="n">initialdir</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">get</span><span class="p">())</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">previewFig_dir_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">previewFig_dir_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>
        
        
        <span class="k">def</span> <span class="nf">save_preview_fig</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig_pre</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">previewFig_dir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">browsePreviewFig</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">savePrevFigFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Browse&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">filepath_preview_fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browsePreviewFig</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">savePreviewFig</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">savePrevFigFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">save_preview_fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">savePreviewFig</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="n">savePrevFigFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">savePrevFigFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preview_toolbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">X</span><span class="p">)</span>            
        <span class="bp">self</span><span class="o">.</span><span class="n">canvasPreWidget</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0, sticky=&#39;nsew&#39;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">inputDataViewFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
        
        <span class="c1">#preview-Run button</span>
        <span class="n">runFrame_dataPrev</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">preview_data_tab</span><span class="p">)</span>
        <span class="n">runFrame_dataPrev</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prevProgBar</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span><span class="n">runFrame_dataPrev</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prevProgBar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;,expand=True, side=&#39;left&#39;, anchor=&#39;sw&#39;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">runFrame_dataPrev</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Run&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Run.TButton&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">process_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span><span class="c1">#.pack(side=&#39;bottom&#39;, anchor=&#39;e&#39;)#.grid(row=2, column=9, columnspan=20, sticky=&#39;e&#39;)</span>
        <span class="n">runFrame_dataPrev</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span><span class="c1">#grid(row=1, sticky=&#39;e&#39;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">preview_data_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Data Preview&quot;</span><span class="p">)</span>

        <span class="c1"># NOISE TAB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_tab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvasFrame_noise</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">noise_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Noise Viewer&#39;</span><span class="p">)</span>

        <span class="c1">#Helper function for updating the canvas and drawing/deleted the boxes</span>
        
        <span class="k">def</span> <span class="nf">__draw_windows</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">pathlist</span><span class="p">,</span> <span class="n">ax_key</span><span class="p">,</span> <span class="n">windowDrawn</span><span class="p">,</span> <span class="n">winArtist</span><span class="p">,</span> <span class="n">xWindows</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Helper function for updating the canvas and drawing/deleted the boxes&quot;&quot;&quot;</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pa</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pathlist</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pa</span><span class="p">):</span> 
                    <span class="k">if</span> <span class="n">windowDrawn</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
                        <span class="k">pass</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">patch</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">patches</span><span class="o">.</span><span class="n">PathPatch</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>                            
                        <span class="n">winArt</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">ax_key</span><span class="p">]</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">patch</span><span class="p">)</span>
                        <span class="n">windowDrawn</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="n">winArtist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">winArt</span>

            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="ow">is</span> <span class="n">MouseButton</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span>
                <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

        <span class="c1">#Helper function for manual window selection </span>
        
        <span class="k">def</span> <span class="nf">__draw_boxes</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">clickNo</span><span class="p">,</span> <span class="n">xWindows</span><span class="p">,</span> <span class="n">pathList</span><span class="p">,</span> <span class="n">windowDrawn</span><span class="p">,</span> <span class="n">winArtist</span><span class="p">,</span> <span class="n">lineArtist</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Helper function for manual window selection to draw boxes to show where windows have been selected for removal&quot;&quot;&quot;</span>
            <span class="c1">#Create an axis dictionary if it does not already exist so all functions are the same</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ax</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="n">ax</span><span class="p">}</span>

            
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
                    <span class="n">axDict</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ax</span><span class="p">):</span>
                        <span class="n">axDict</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span> <span class="o">=</span> <span class="n">a</span>
                    <span class="n">ax</span> <span class="o">=</span> <span class="n">axDict</span>
            <span class="c1">#else:</span>
            <span class="c1">#    ax = {&#39;a&#39;:ax}</span>
            
            <span class="c1">#if event.inaxes!=ax: return</span>
            <span class="c1">#y0, y1 = ax.get_ylim()</span>
            <span class="n">y0</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">kList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">kList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
                <span class="n">y0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">y1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ax</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>
            <span class="c1">#else:</span>
            <span class="c1">#    y0 = [ax.get_ylim()[0]]</span>
            <span class="c1">#    y1 = [ax.get_ylim()[1]]</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">clickNo</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1">#y = np.linspace(ax.get_ylim()[0], ax.get_ylim()[1], 2)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">x0</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">xdata</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clickNo</span> <span class="o">=</span> <span class="mi">1</span>   
                <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="n">winNums</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="n">linArt</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="p">[</span><span class="n">winNums</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">linArt</span><span class="p">,</span> <span class="n">linArt</span><span class="p">])</span>
                <span class="c1">#else:</span>
                <span class="c1">#    linArt = plt.axvline(self.x0, y0[i], y1[i], color=&#39;k&#39;, linewidth=1, zorder=100)</span>
                <span class="c1">#    self.lineArtist.append([linArt, linArt])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">x1</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">xdata</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clickNo</span> <span class="o">=</span> <span class="mi">0</span>

                <span class="n">windowDrawn</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="n">winArtist</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>  
                <span class="n">pathList</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="n">winNums</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">kList</span><span class="p">):</span>
                    <span class="n">path_data</span> <span class="o">=</span> <span class="p">[</span>
                        <span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">MOVETO</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span>
                        <span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">LINETO</span><span class="p">,</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y0</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span>
                        <span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">LINETO</span><span class="p">,</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span>
                        <span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">LINETO</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="n">y1</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span>
                        <span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">LINETO</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span>
                        <span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">CLOSEPOLY</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span>
                    <span class="p">]</span>
                    <span class="n">codes</span><span class="p">,</span> <span class="n">verts</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">path_data</span><span class="p">)</span>
                    <span class="n">path</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">verts</span><span class="p">,</span> <span class="n">codes</span><span class="p">)</span>

                    <span class="n">windowDrawn</span><span class="p">[</span><span class="n">winNums</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                    <span class="n">winArtist</span><span class="p">[</span><span class="n">winNums</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

                    <span class="n">pathList</span><span class="p">[</span><span class="n">winNums</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                    <span class="n">__draw_windows</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">,</span> <span class="n">pathlist</span><span class="o">=</span><span class="n">pathList</span><span class="p">,</span> <span class="n">ax_key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">windowDrawn</span><span class="o">=</span><span class="n">windowDrawn</span><span class="p">,</span> <span class="n">winArtist</span><span class="o">=</span><span class="n">winArtist</span><span class="p">,</span> <span class="n">xWindows</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
                    <span class="n">linArt</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

                    <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="p">[</span><span class="n">winNums</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="p">[</span><span class="n">winNums</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">linArt</span><span class="p">)</span>
                <span class="n">x_win</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">]</span>
                <span class="n">x_win</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span> <span class="c1">#Make sure they are in the right order</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x_win</span><span class="p">)</span>
            <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">clickNo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x0</span>

        <span class="c1">#Helper function for manual window selection to draw boxes to deslect windows for removal</span>
        
        <span class="k">def</span> <span class="nf">__remove_on_right</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">xWindows</span><span class="p">,</span> <span class="n">pathList</span><span class="p">,</span> <span class="n">windowDrawn</span><span class="p">,</span> <span class="n">winArtist</span><span class="p">,</span>  <span class="n">lineArtist</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Helper function for manual window selection to draw boxes to deslect windows for removal&quot;&quot;&quot;</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">xWins</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">xdata</span> <span class="o">&gt;</span> <span class="n">xWins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">xdata</span> <span class="o">&lt;</span> <span class="n">xWins</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">linArtists</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                        <span class="n">pathList</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">linArtists</span><span class="p">):</span>
                            <span class="n">winArtist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span><span class="c1">#.pop(i)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span><span class="c1">#.pop(i)#[i].pop(j)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
                        <span class="n">windowDrawn</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="c1">#[i].pop(j)</span>
                        <span class="n">winArtist</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="c1">#[i].pop(j)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span> 
               
        
        <span class="k">def</span> <span class="nf">select_windows</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="nb">input</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">initialize</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Function to manually select windows for exclusion from data.</span>

<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            input : dict</span>
<span class="sd">                Dictionary containing all the hvsr information.</span>

<span class="sd">            Returns</span>
<span class="sd">            -------</span>
<span class="sd">            self.xWindows : list</span>
<span class="sd">                List of two-item lists containing start and end times of windows to be removed.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="kn">from</span> <span class="nn">matplotlib.backend_bases</span> <span class="kn">import</span> <span class="n">MouseButton</span>
            <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
            
            <span class="c1">#self.fig_noise, self.ax_noise = sprit_hvsr._plot_specgram_stream(stream=input[&#39;stream&#39;], params=input, fig=self.fig_noise, ax=self.ax_noise, component=&#39;Z&#39;, stack_type=&#39;linear&#39;, detrend=&#39;mean&#39;, fill_gaps=0, dbscale=True, return_fig=True, cmap_per=[0.1,0.9])</span>
            <span class="c1">#self.fig_noise.canvas.draw()</span>
            
            <span class="c1">#if &#39;stream&#39; in input.keys():</span>
            <span class="c1">#    self.fig_noise, self.ax_noise = sprit_hvsr._plot_specgram_stream(stream=self.params[&#39;stream&#39;], params=self.params, fig=self.fig_noise, ax=self.ax_noise, component=&#39;Z&#39;, stack_type=&#39;linear&#39;, detrend=&#39;mean&#39;, fill_gaps=0, dbscale=True, return_fig=True, cmap_per=[0.1,0.9])</span>
            <span class="c1">#else:</span>
            <span class="c1">#    params = input.copy()</span>
            <span class="c1">#    input = input[&#39;stream&#39;]</span>
            
            <span class="c1">#if isinstance(input, obspy.core.stream.Stream):</span>
            <span class="c1">#    fig, ax = sprit_hvsr._plot_specgram_stream(input, component=[&#39;Z&#39;])</span>
            <span class="c1">#elif isinstance(input, obspy.core.trace.Trace):</span>
            <span class="c1">#    fig, ax = sprit_hvsr._plot_specgram_stream(input)</span>
            <span class="k">if</span> <span class="n">initialize</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">winArtist</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">windowDrawn</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pathList</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">x0</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clickNo</span> <span class="o">=</span> <span class="mi">0</span>
            
            <span class="k">if</span> <span class="ow">not</span> <span class="n">initialize</span><span class="p">:</span>
                <span class="n">__on_click</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;xwindows_out&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span>


                <span class="c1">#self.fig_closed</span>
                <span class="c1">#fig_closed = False</span>
                <span class="c1">#while fig_closed is False:</span>
                <span class="c1">#    #fig.canvas.mpl_connect(&#39;button_press_event&#39;, __on_click)#(self.clickNo, self.xWindows, pathList, windowDrawn, winArtist, lineArtist, self.x0, fig, ax))</span>
                <span class="c1">#    fig.canvas.mpl_connect(&#39;close_event&#39;, _on_fig_close)#(self.clickNo, self.xWindows, pathList, windowDrawn, winArtist, lineArtist, self.x0, fig, ax))</span>
                <span class="c1">#    plt.pause(0.5)</span>
                
                <span class="c1">#output[&#39;xwindows_out&#39;] = self.xWindows</span>
                <span class="c1">#output[&#39;fig&#39;] = fig</span>
                <span class="c1">#output[&#39;ax&#39;] = ax</span>
                <span class="n">noEvent</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span>

        <span class="c1">#Support function to help select_windows run properly</span>
        
        <span class="k">def</span> <span class="nf">_on_fig_close</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
            <span class="c1">#self.fig_closed</span>
            <span class="n">fig_closed</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span>

        
        <span class="k">def</span> <span class="nf">__on_click</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="ow">is</span> <span class="n">MouseButton</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span>
                <span class="n">__remove_on_right</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathList</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">windowDrawn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">winArtist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="ow">is</span> <span class="n">MouseButton</span><span class="o">.</span><span class="n">LEFT</span><span class="p">:</span>            
                <span class="bp">self</span><span class="o">.</span><span class="n">clickNo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x0</span> <span class="o">=</span> <span class="n">__draw_boxes</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clickNo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pathList</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">windowDrawn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">winArtist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineArtist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="p">)</span>    
        
        <span class="c1">#if &#39;hvsr_data&#39; not in dir(self):</span>
        <span class="c1">#    self.hvsr_data = {&#39;placeholder&#39;:None}</span>
            
        <span class="k">def</span> <span class="nf">plot_noise_windows</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;placeholder&#39;</span><span class="p">:</span><span class="kc">None</span><span class="p">},</span> <span class="n">initial_setup</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="k">if</span> <span class="s1">&#39;hvsr_data&#39;</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="n">hvsr_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_data</span>
                
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">hvsr_data</span><span class="p">,</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">HVSRBatch</span><span class="p">):</span>
                <span class="n">batch_data</span> <span class="o">=</span> <span class="n">hvsr_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                <span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">hvsr_data</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">batch_data</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="n">initial_setup</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="o">=</span><span class="p">[]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1">#Clear everything</span>
                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

                <span class="c1">#Really make sure it&#39;s out of memory</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="o">.</span><span class="n">get_children</span><span class="p">()</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="o">.</span><span class="n">get_children</span><span class="p">()</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>

            <span class="c1">#Reset axes, figure, and canvas widget</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    
            <span class="n">noise_mosaic</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;spec&#39;</span><span class="p">],[</span><span class="s1">&#39;spec&#39;</span><span class="p">],[</span><span class="s1">&#39;spec&#39;</span><span class="p">],</span>
                    <span class="p">[</span><span class="s1">&#39;spec&#39;</span><span class="p">],[</span><span class="s1">&#39;spec&#39;</span><span class="p">],[</span><span class="s1">&#39;spec&#39;</span><span class="p">],</span>
                    <span class="p">[</span><span class="s1">&#39;signalz&#39;</span><span class="p">],[</span><span class="s1">&#39;signalz&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;signaln&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;signale&#39;</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="o">.</span><span class="n">subplot_mosaic</span><span class="p">(</span><span class="n">noise_mosaic</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  


            <span class="k">if</span> <span class="ow">not</span> <span class="n">initial_setup</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">noise_canvasWidget</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">noise_toolbar</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">_plot_specgram_stream</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;stream&#39;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="n">hvsr_data</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="p">,</span> <span class="n">component</span><span class="o">=</span><span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="n">stack_type</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">detrend</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">fill_gaps</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dbscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_fig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap_per</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.9</span><span class="p">])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">noise_canvas</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvasFrame_noise</span><span class="p">)</span>  <span class="c1"># A tk.DrawingArea.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">noise_canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
            <span class="c1">#self.noise_canvasWidget = self.noise_canvas.get_tk_widget()#.pack(side=tk.TOP, fill=tk.BOTH, expand=1)</span>
            <span class="c1"># pack_toolbar=False will make it easier to use a layout manager later on.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">noise_toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar2Tk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">noise_canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvasFrame_noise</span><span class="p">,</span> <span class="n">pack_toolbar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">noise_toolbar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        
            <span class="bp">self</span><span class="o">.</span><span class="n">noise_canvasWidget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise_canvas</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span><span class="c1">#.pack(side=tk.TOP, fill=tk.BOTH, expand=1)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">noise_canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s2">&quot;button_release_event&quot;</span><span class="p">,</span> <span class="n">select_windows</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">noise_toolbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">X</span><span class="p">)</span>            
            <span class="bp">self</span><span class="o">.</span><span class="n">noise_canvasWidget</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0, sticky=&#39;nsew&#39;)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">initial_setup</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">batch_data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">hvsr_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SITENAME&#39;</span><span class="p">:</span><span class="n">hvsr_data</span><span class="p">}</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">batch_data</span>

                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">hv_data</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="c1">#Reset edited data every time plot_noise_windows is run</span>
                    <span class="c1">#v_data[&#39;stream&#39;] = hv_data[&#39;input_stream&#39;].copy()                    </span>
                    <span class="c1">#Set initial input</span>
                    <span class="c1">#input = hv_data#[&#39;input_stream&#39;]</span>

                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">do_stalta</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                        <span class="n">hv_data</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">remove_noise</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="n">hv_data</span><span class="p">,</span> <span class="n">remove_method</span><span class="o">=</span><span class="s1">&#39;stalta&#39;</span><span class="p">,</span> <span class="n">sta</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sta</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">lta</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lta</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">stalta_thresh</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_low</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_hi</span><span class="o">.</span><span class="n">get</span><span class="p">()])</span>

                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">do_pctThresh</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                        <span class="n">hv_data</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">remove_noise</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="n">hv_data</span><span class="p">,</span> <span class="n">remove_method</span><span class="o">=</span><span class="s1">&#39;saturation&#39;</span><span class="p">,</span>  <span class="n">sat_percent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pct</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">do_noiseWin</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                        <span class="n">hv_data</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">remove_noise</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="n">hv_data</span><span class="p">,</span> <span class="n">remove_method</span><span class="o">=</span><span class="s1">&#39;noise&#39;</span><span class="p">,</span> <span class="n">noise_percent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">noise_amp_pct</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">lta</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lta_noise</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">min_win_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">win_size_thresh</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">do_warmup</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                        <span class="n">hv_data</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">remove_noise</span><span class="p">(</span><span class="n">hvsr_data</span><span class="o">=</span><span class="n">hv_data</span><span class="p">,</span> <span class="n">remove_method</span><span class="o">=</span><span class="s1">&#39;warmup&#39;</span><span class="p">,</span> <span class="n">warmup_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">warmup_time</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">cooldown_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cooldown_time</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

                    <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise_windows_line_artists</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise_windows_window_artists</span> <span class="o">=</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">_get_removed_windows</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">hv_data</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_noise</span><span class="p">,</span> <span class="n">existing_xWindows</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">xWindows</span><span class="p">,</span> <span class="n">time_type</span><span class="o">=</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">batch_data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">hvsr_data</span> <span class="o">=</span> <span class="n">hvsr_data</span><span class="p">[</span><span class="s1">&#39;SITENAME&#39;</span><span class="p">]</span>

                <span class="k">return</span> <span class="n">hvsr_data</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="n">plot_noise_windows</span><span class="p">({</span><span class="s1">&#39;placeholder&#39;</span><span class="p">:</span><span class="kc">None</span><span class="p">},</span> <span class="n">initial_setup</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvasFrame_noise</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0, sticky=&quot;nsew&quot;)</span>

        <span class="c1">#noise_mosaic = [[&#39;spec&#39;],[&#39;spec&#39;],[&#39;spec&#39;],</span>
        <span class="c1">#        [&#39;spec&#39;],[&#39;spec&#39;],[&#39;spec&#39;],</span>
        <span class="c1">#        [&#39;signalz&#39;],[&#39;signalz&#39;], [&#39;signaln&#39;], [&#39;signale&#39;]]</span>
        <span class="c1">#self.fig_noise, self.ax_noise = plt.subplot_mosaic(noise_mosaic, sharex=True)  </span>
        <span class="c1">#self.canvasFrame_noise = ttk.LabelFrame(self.noise_tab, text=&#39;Noise Viewer&#39;)</span>
        <span class="c1">#self.canvasFrame_noise.pack(fill=&#39;both&#39;)#.grid(row=0, column=0, sticky=&quot;nsew&quot;)</span>

        <span class="c1">#self.noise_canvas = FigureCanvasTkAgg(self.fig_noise, master=self.canvasFrame_noise)</span>
        <span class="c1">#self.noise_canvas.draw()</span>
        <span class="c1">#self.noise_canvasWidget = self.noise_canvas.get_tk_widget()#.pack(side=tk.TOP, fill=tk.BOTH, expand=1)</span>
        <span class="c1">#self.noise_canvasWidget.pack(fill=&#39;both&#39;)#.grid(row=0, column=0, sticky=&#39;nsew&#39;)</span>

        <span class="c1">#Run button frame</span>
        <span class="n">runFrame_noise</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">noise_tab</span><span class="p">)</span>
        <span class="n">runFrame_noise</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1">#Run area</span>
        <span class="c1">#Progress Bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noiseProgBar</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span><span class="n">runFrame_noise</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noiseProgBar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;,expand=True, side=&#39;left&#39;, anchor=&#39;sw&#39;)</span>

        <span class="c1">#Update Noise Windows button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;Noise.TButton&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s1">&#39;#86a5ba&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">runFrame_noise</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Update Noise Windows&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">plot_noise_windows</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Noise.TButton&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_windows_line_artists</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_windows_window_artists</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="s1">&#39;Run.TButton&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s1">&#39;#8b9685&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">runFrame_noise</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Run&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Run.TButton&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">process_data</span><span class="p">)</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span><span class="c1">#.pack(side=&#39;right&#39;, anchor=&#39;se&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span><span class="c1">#.pack(side=&#39;right&#39;, anchor=&#39;se&#39;, padx=(10,0))</span>

        <span class="n">runFrame_noise</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>    


        <span class="k">def</span> <span class="nf">update_remove_noise_call</span><span class="p">():</span>
            <span class="k">if</span> <span class="s1">&#39;prevAutoState&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">prevAutoState</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">do_auto</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prevAutoState</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">do_auto</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_stalta</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_pctThresh</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_noiseWin</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_warmup</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="c1">#Get method</span>
            <span class="n">remMethDict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;auto&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">do_auto</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                           <span class="s1">&#39;stalta&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">do_stalta</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                           <span class="s1">&#39;sat_per&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">do_pctThresh</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                           <span class="s1">&#39;noise_per&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">do_noiseWin</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                           <span class="s1">&#39;warmcool&#39;</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">do_warmup</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                           <span class="p">}</span>

            <span class="n">remMethList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">remMethDict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">v</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">k</span><span class="o">==</span><span class="s1">&#39;auto&#39;</span><span class="p">:</span>
                        <span class="n">remMethList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;auto&#39;</span><span class="p">]</span>
                        <span class="k">break</span>
                    <span class="n">remMethList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">remMethList</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">remMethList</span> <span class="o">=</span> <span class="n">remMethList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            
            <span class="k">if</span> <span class="n">remMethList</span><span class="o">==</span><span class="s1">&#39;auto&#39;</span><span class="p">:</span>
                <span class="n">remMethList</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_auto</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">set_auto</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">remMethList</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">remMethList</span><span class="o">=</span><span class="kc">None</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">remove_noise_call</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;remove_noise(hvsr_data, remove_method=</span><span class="si">{}</span><span class="s2">, sat_percent=</span><span class="si">{}</span><span class="s2">, noise_percent=</span><span class="si">{}</span><span class="s2">, sta=</span><span class="si">{}</span><span class="s2">, lta=</span><span class="si">{}</span><span class="s2">, stalta_thresh=[</span><span class="si">{}</span><span class="s2">,</span><span class="si">{}</span><span class="s2">], warmup_time=</span><span class="si">{}</span><span class="s2">, cooldown_time=</span><span class="si">{}</span><span class="s2">, min_win_size=</span><span class="si">{}</span><span class="s2">, remove_raw_noise=</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                                                <span class="n">remMethList</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pct</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise_amp_pct</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">sta</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">lta</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_low</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_hi</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                                                <span class="bp">self</span><span class="o">.</span><span class="n">warmup_time</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">cooldown_time</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">win_size_thresh</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span><span class="bp">self</span><span class="o">.</span><span class="n">use_raw_data</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">prevAutoState</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">do_auto</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>


        <span class="c1">#remove_noise Frame</span>
        <span class="n">removeNoiseFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">noise_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;remove_noise() call&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">remove_noise_call</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">removeNoiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;remove_noise(hvsr_data, remove_method=&#39;auto&#39;,sat_percent=0.995, noise_percent=0.80, sta=2, lta=30, stalta_thresh=[0.5,5], warmup_time=0, cooldown_time=0, min_win_size=1, remove_raw_noise=False)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_noise_call</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
        <span class="n">removeNoiseFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=1, sticky=&#39;nsew&#39;)</span>

        <span class="n">noiseFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">noise_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Noise Removal&#39;</span><span class="p">)</span>
        <span class="n">noiseFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span><span class="c1">#.grid(row=1, columnspan=2, sticky=&#39;nsew&#39;)</span>

        <span class="c1">#Options for doing stalta antitrigger for noise removal</span>
        <span class="n">stltaremoveFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;STA/LTA Antitrigger&#39;</span><span class="p">)</span>
        <span class="n">stltaremoveFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">do_stalta</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="n">staltaBool</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stltaremoveFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">do_stalta</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Checkbutton widget</span>
        <span class="n">staltaBool</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stltaremoveFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;STA [s]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sta</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sta</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">staEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stltaremoveFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sta</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">staEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stltaremoveFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;LTA [s]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lta</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lta</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">ltaEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stltaremoveFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lta</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">ltaEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stltaremoveFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;STA/LTA Thresholds (Low, High)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_low</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_low</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">staltaLowEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stltaremoveFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_low</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">staltaLowEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_hi</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_hi</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">staltaHiEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stltaremoveFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stalta_thresh_hi</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">staltaHiEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        
        <span class="c1">#Options for Percentage threshold removal</span>
        <span class="n">pctThresFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Percentage Threshold&#39;</span><span class="p">)</span>
        <span class="n">pctThresFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">do_pctThresh</span><span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="n">pctBool</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">pctThresFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">do_pctThresh</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Checkbutton widget</span>
        <span class="n">pctBool</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
 
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">pctThresFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Max Saturation %&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pct</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pct</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.995</span><span class="p">)</span>
        <span class="n">pctEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">pctThresFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pct</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">pctEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">pctThresFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">27</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1">#Options for noisy window</span>
        <span class="n">noisyWindowFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Noisy Windows&#39;</span><span class="p">)</span>
        <span class="n">noisyWindowFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">do_noiseWin</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="n">winNoiseBool</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">noisyWindowFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">do_noiseWin</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Checkbutton widget</span>
        <span class="n">winNoiseBool</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
 
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">noisyWindowFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Max Window %&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_amp_pct</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise_amp_pct</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.80</span><span class="p">)</span>
        <span class="n">winamppctEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">noisyWindowFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">noise_amp_pct</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">winamppctEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">noisyWindowFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Window Length [sec]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lta_noise</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lta_noise</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">winamppctEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">noisyWindowFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lta_noise</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">winamppctEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">noisyWindowFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Min. Window Size [sec]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">win_size_thresh</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">win_size_thresh</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">win_size_Entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">noisyWindowFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">win_size_thresh</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">win_size_Entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

        <span class="c1">#Options for warmup</span>
        <span class="n">warmupFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Warmup &amp; Cooldown Time&#39;</span><span class="p">)</span>
        <span class="n">warmupFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">do_warmup</span><span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="n">warmupBool</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">warmupFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">do_warmup</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Checkbutton widget</span>
        <span class="n">warmupBool</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
 
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">warmupFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Warmup time [s]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">warmup_time</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="n">warmupEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">warmupFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">warmup_time</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">warmupEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">warmupEntry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
        <span class="n">warmupEntry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
 
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">warmupFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Cooldown Time [s]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cooldown_time</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="n">cooldownEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">warmupFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cooldown_time</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">cooldownEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">cooldownEntry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
        <span class="n">cooldownEntry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>

        <span class="c1">#Options for doing stdev noise removal</span>
        <span class="n">stdremoveFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Standard Deviation Antitrigger (not yet implemented)&#39;</span><span class="p">)</span>
        <span class="n">stdremoveFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">do_stdev</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="n">stdBool</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stdremoveFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">do_stdev</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Checkbutton widget</span>
        <span class="n">stdBool</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stdremoveFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Std Deviation Ratio (moving stdev/total stdev)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdRatio</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="n">stdRatEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stdremoveFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stdRatio</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">stdRatEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">stdRatEntry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
        <span class="n">stdRatEntry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stdremoveFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Window Length [s]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdWinLen</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="n">stdWinLenEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">stdremoveFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stdWinLen</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span><span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">stdWinLenEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">stdWinLenEntry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
        <span class="n">stdWinLenEntry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">)</span>

        <span class="c1">#Quick set the auto </span>
        <span class="c1">#autoFrame = ttk.LabelFrame(noiseFrame, text=&#39;Auto Run&#39;)</span>
        <span class="c1">#autoFrame.grid(row=2, column=1, columnspan=1, sticky=&#39;nsew&#39;)</span>

        
        <span class="k">def</span> <span class="nf">set_auto</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">do_auto</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_stalta</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_stdev</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_warmup</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_noiseWin</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_pctThresh</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_stalta</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_stdev</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_warmup</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_noiseWin</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_pctThresh</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>                
                <span class="k">pass</span>
            

        <span class="c1">#Additional options</span>
        <span class="n">addOptionsFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">addOptionsFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">do_auto</span><span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="n">autoBool</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">addOptionsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Set Auto Run&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">do_auto</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Checkbutton widget</span>
        <span class="n">autoBool</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">use_raw_data</span><span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="n">rawDataRemoveBool</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">addOptionsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Remove from raw data&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_raw_data</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_remove_noise_call</span><span class="p">)</span> <span class="c1"># create the Checkbutton widget</span>
        <span class="n">rawDataRemoveBool</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1">#Export noise windows</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Export Figure&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_noise_dir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_noise_dir_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">results_noise_dir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_noise_dir_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
        
        
        <span class="k">def</span> <span class="nf">filepath_noise_fig</span><span class="p">():</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">defaultextension</span><span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="n">initialdir</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">get</span><span class="p">())</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">initialfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;site&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;_noisewindows.png&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_noise_dir_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_noise_dir_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>
        
        
        <span class="k">def</span> <span class="nf">save_noise_fig</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig_noise</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_noise_dir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">browse_noise_fig</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Browse&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">filepath_noise_fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browse_noise_fig</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">save_noise_fig</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">noiseFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">save_noise_fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_noise_fig</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">noise_tab</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">noise_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Noise&quot;</span><span class="p">)</span>

        <span class="c1"># SETTINGS TAB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Settings&quot;</span><span class="p">)</span>
        
        <span class="c1"># Create a new Notebook widget within the Settings tab</span>
        <span class="n">settings_notebook</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span><span class="p">)</span>

        <span class="c1"># Create the tabs within the Settings tab</span>
        <span class="c1">#PPSD SETTINGS SUBTAB</span>
        <span class="n">ppsd_settings_tab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">settings_notebook</span><span class="p">)</span>
        <span class="n">ppsdSettingsFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">ppsd_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Input Settings&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;)</span>
        <span class="n">ppsdParamsFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">ppsd_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;PPSD Parameters&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;)</span>

        <span class="c1"># ppsd_length=30.0</span>
        
        <span class="k">def</span> <span class="nf">on_ppsd_length</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_length</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">ppsdLenLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;ppsd_length=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_length</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="n">ppsdLenLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;ppsd_length=30.0 &#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0)</span>
        <span class="n">ppsdLenLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;PPSD Length (in seconds) [float]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ppsd_length</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ppsd_length</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">ppsdLenEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_length</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_ppsd_length</span><span class="p">)</span>
        <span class="n">ppsdLenEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1"># overlap=0.5, </span>
        
        <span class="k">def</span> <span class="nf">on_overlap</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">overlap</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">overlap</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="k">if</span> <span class="n">overlap</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">overlap</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">overlap</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
                <span class="n">overlapLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;overlap=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">overlap</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="n">overlapLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;overlap=0.5 &#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0)</span>
        <span class="n">overlapLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Overlap % (0-1) [float]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlap</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlap</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">overlapEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlap</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_overlap</span><span class="p">)</span>
        <span class="n">overlapEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1"># period_step_octaves=0.0625, </span>
        
        <span class="k">def</span> <span class="nf">on_per_step_oct</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">perStepOct</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                
                <span class="n">pStepOctLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;period_step_octaves=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">perStepOct</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>            
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="n">pStepOctLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;period_step_octaves=0.0625&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0)</span>
        <span class="n">pStepOctLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Period Step Octave [float]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perStepOct</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perStepOct</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">0.0625</span><span class="p">)</span>
        <span class="n">pStepOctEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">perStepOct</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_per_step_oct</span><span class="p">)</span>
        <span class="n">pStepOctEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1">#skip_on_gaps</span>
        
        <span class="k">def</span> <span class="nf">show_sog</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_on_gaps</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="n">sogLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span><span class="s1">&#39;skip_on_gaps=True&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sogLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span><span class="s1">&#39;skip_on_gaps=False&#39;</span><span class="p">)</span>
            <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">skip_on_gaps</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Skip on Gaps [bool]: &#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">sogCheckButton</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">skip_on_gaps</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">show_sog</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">sogCheckButton</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">sogLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;skip_on_gaps=False&#39;</span><span class="p">)</span>
        <span class="n">sogLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1"># db_bins=(-200, -50, 1.0), </span>
        
        <span class="k">def</span> <span class="nf">show_dbbins</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="n">minDB</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="nb">float</span><span class="p">(</span><span class="n">maxDB</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="nb">float</span><span class="p">(</span><span class="n">dB_step</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">dbbinsLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;db_bins=(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">minDB</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">maxDB</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">dB_step</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">db_bins</span> <span class="o">=</span> <span class="p">(</span><span class="n">minDB</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">maxDB</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">dB_step</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="n">dbbinsLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span>
                                <span class="n">text</span><span class="o">=</span><span class="s1">&#39;db_bins=(-200, -50, 1.0)&#39;</span><span class="p">)</span>
        <span class="n">dbbinsLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;dB Bins (Y Axis) [tuple]&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Min. dB&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">minDB</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="n">minDB</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">-</span><span class="mi">200</span><span class="p">)</span>
        <span class="n">minDBEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="n">minDB</span><span class="p">,</span>
                            <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;focusout&quot;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">show_dbbins</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">minDBEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Max. dB&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">maxDB</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="n">maxDB</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">)</span>
        <span class="n">maxDBEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="n">maxDB</span><span class="p">,</span>
                            <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;focusout&quot;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">show_dbbins</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">maxDBEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;dB Step&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">dB_step</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="n">dB_step</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="n">stepEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="n">dB_step</span><span class="p">,</span>
                            <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;focusout&quot;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">show_dbbins</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">stepEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">db_bins</span> <span class="o">=</span> <span class="p">(</span><span class="n">minDB</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">maxDB</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">dB_step</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

        <span class="c1"># period_limits=None,</span>
        
        <span class="k">def</span> <span class="nf">show_per_lims</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">minPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">float</span><span class="p">(</span><span class="n">minPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                    
                <span class="k">if</span> <span class="n">maxPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">float</span><span class="p">(</span><span class="n">maxPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                    
                <span class="k">if</span> <span class="n">minPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span> <span class="ow">or</span> <span class="n">maxPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
                    <span class="n">perLimsLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;period_limits=None&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">perLimsLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;period_limits=[</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">minPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">maxPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">period_limits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">minPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="nb">float</span><span class="p">(</span><span class="n">maxPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">())]</span>
                <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="n">perLimsLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span>
                                <span class="n">text</span><span class="o">=</span><span class="s1">&#39;period_limits=None&#39;</span><span class="p">)</span>
        <span class="n">perLimsLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Period Limits [list of floats or None]&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Min. Period Limit&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">minPerLim</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="n">minPerLim</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">minPerLimEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="n">minPerLim</span><span class="p">,</span>
                            <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;focusout&quot;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">show_per_lims</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">minPerLimEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Max. Period Limit&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">maxPerLim</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="n">maxPerLim</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">maxPerLimEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="n">maxPerLim</span><span class="p">,</span>
                            <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;focusout&quot;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="n">show_per_lims</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">maxPerLimEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">minPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span> <span class="ow">or</span> <span class="n">maxPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">period_limits</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">period_limits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">minPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="nb">float</span><span class="p">(</span><span class="n">maxPerLim</span><span class="o">.</span><span class="n">get</span><span class="p">())]</span>

        <span class="c1"># period_smoothing_width_octaves=1.0,</span>
        
        <span class="k">def</span> <span class="nf">on_per_smoothwidth_oct</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">perSmoothWidthOct</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                
                <span class="n">pSmoothWidthLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;period_smoothing_width_octaves=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">perSmoothWidthOct</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="n">pSmoothWidthLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;period_smoothing_width_octaves=1.0&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0)</span>
        <span class="n">pSmoothWidthLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Period Smoothing Width (octaves) [float]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perSmoothWidthOct</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perSmoothWidthOct</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="n">pSmoothWidthEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">perSmoothWidthOct</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_per_smoothwidth_oct</span><span class="p">)</span>
        <span class="n">pSmoothWidthEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        
        <span class="c1"># special_handling=None, </span>
        
        <span class="k">def</span> <span class="nf">on_special_handling</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
                    <span class="n">specialHandlingLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;special_handling=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                    <span class="n">special_handling</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">specialHandlingLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;special_handling=&#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                    <span class="n">special_handling</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="n">specialHandlingLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;special_handling=None&quot;</span><span class="p">)</span>
        <span class="n">specialHandlingLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Special Handling [str]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;None&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_special_handling</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Ringlaser&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;ringlaser&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_special_handling</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Hydrophone&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;hydrophone&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_special_handling</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;None&#39;</span><span class="p">:</span>
            <span class="n">special_handling</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">special_handling</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">special_handling</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

        <span class="n">separator</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="n">separator</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="n">separator</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">ppsdParamsFrame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="n">separator</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1">#remove_outliers</span>
        
        <span class="k">def</span> <span class="nf">show_rem_outliers</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_outliers</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="n">rem_outliers_Label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span><span class="s1">&#39;remove_outliers=True&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rem_outliers_Label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span><span class="s1">&#39;remove_outliers=False&#39;</span><span class="p">)</span>
            <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_outliers</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_outliers</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Remove outlier curves [bool]: &#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">rem_outliers_CheckButton</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">remove_outliers</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">show_rem_outliers</span><span class="p">)</span> <span class="c1"># create the Entry widget</span>
        <span class="n">rem_outliers_CheckButton</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">rem_outliers_Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;remove_outliers=True&#39;</span><span class="p">)</span>
        <span class="n">rem_outliers_Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1"># outlier_std=1.5, </span>
        
        <span class="k">def</span> <span class="nf">on_outlier_std</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">outlier_std</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">outlier_std_Label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;outlier_std=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">outlier_std</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="n">update_ppsd_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="p">)</span>            
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="n">outlier_std_Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;outlier_std=1.5&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0)</span>
        <span class="n">outlier_std_Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;St. Dev. for Outliers [float]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outlier_std</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outlier_std</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
        <span class="n">outlier_std_Entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">outlier_std</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_outlier_std</span><span class="p">)</span>
        <span class="n">outlier_std_Entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>


        <span class="c1">#PPSD Function Call</span>
        <span class="n">ppsdCallFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">ppsd_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;sprit_hvsr.generate_ppsds() and obspy PPSD() call&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;) </span>
       
        <span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdCallFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;obspy...PPSD(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="se">\n\t</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span>
                  <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;stats&#39;</span><span class="p">,</span> <span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="n">ppsdLenLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">overlapLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">pStepOctLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">sogLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> 
                          <span class="n">dbbinsLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">perLimsLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">pSmoothWidthLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">specialHandlingLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ppsd_call</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">generate_ppsd_call</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">ppsdCallFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;generate_ppsds(</span><span class="si">{}</span><span class="s1">, remove_outliers=</span><span class="si">{}</span><span class="s1">, outlier_std=</span><span class="si">{}</span><span class="s1">,...</span><span class="se">\n\t</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="se">\n\t</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span>
                  <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;hvsr_data&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_outliers</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">outlier_std</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                          <span class="n">ppsdLenLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">overlapLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">pStepOctLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">sogLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> 
                          <span class="n">dbbinsLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">perLimsLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">pSmoothWidthLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">specialHandlingLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_ppsd_call</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
        
        
        <span class="k">def</span> <span class="nf">update_ppsd_call</span><span class="p">(</span><span class="n">ppsd_call</span><span class="p">):</span>
            <span class="n">ppsd_call</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;obspy...PPSD(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="se">\n\t</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;stats&#39;</span><span class="p">,</span> <span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="n">ppsdLenLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> 
                                                                                                    <span class="n">overlapLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">pStepOctLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">sogLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> 
                          <span class="n">dbbinsLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">perLimsLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">pSmoothWidthLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">specialHandlingLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">generate_ppsd_call</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;generate_ppsds(</span><span class="si">{}</span><span class="s1">, remove_outliers=</span><span class="si">{}</span><span class="s1">, outlier_std=</span><span class="si">{}</span><span class="s1">,...</span><span class="se">\n\t</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="se">\n\t</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span>
                            <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;hvsr_data&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_outliers</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">outlier_std</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> 
                                    <span class="n">ppsdLenLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">overlapLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">pStepOctLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">sogLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> 
                                    <span class="n">dbbinsLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">perLimsLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">pSmoothWidthLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">specialHandlingLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)))</span>
                    

        <span class="c1">#Stats from trace(s)</span>
        <span class="n">obspyStatsFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">ppsd_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Data Trace Stats&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obspySreamLabel_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyStatsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Stats&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obspySreamLabel_settings</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;nw&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1">#Metadata (PAZ)</span>
        <span class="n">obspyMetadataFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">ppsd_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Metadata Poles and Zeros&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">metadataZ_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Z: &#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadataZ_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadataZ_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;underline&#39;</span><span class="p">,</span> <span class="s1">&#39;bold&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensitivityLabelZ_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Sensitivity_Z&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensitivityLabelZ_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gainLabelZ_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Gain_Z&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gainLabelZ_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polesLabelZ_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Poles_Z&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polesLabelZ_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zerosLabelZ_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Zeros_Z&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zerosLabelZ_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
 
        <span class="bp">self</span><span class="o">.</span><span class="n">metadataN_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;N: &#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadataN_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadataN_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;underline&#39;</span><span class="p">,</span> <span class="s1">&#39;bold&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensitivityLabelN_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Sensitivity_N&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensitivityLabelN_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gainLabelN_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Gain_N&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gainLabelN_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polesLabelN_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Poles_N&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polesLabelN_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zerosLabelN_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Zeros_N&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zerosLabelN_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
 
        <span class="bp">self</span><span class="o">.</span><span class="n">metadataE_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;E: &#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadataE_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadataE_settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;underline&#39;</span><span class="p">,</span> <span class="s1">&#39;bold&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensitivityLabelE_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Sensitivity_E&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensitivityLabelE_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gainLabelE_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Gain_E&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gainLabelE_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polesLabelE_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Poles_E&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polesLabelE_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zerosLabelE_settings</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Zeros_E&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zerosLabelE_settings</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_sensitivity</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Sensitivity&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_sensitivity</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_sensitivity</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;underline&#39;</span><span class="p">,</span> <span class="s1">&#39;bold&#39;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_gain</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Gain&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_gain</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_gain</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;underline&#39;</span><span class="p">,</span> <span class="s1">&#39;bold&#39;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_poles</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Poles&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_poles</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_poles</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;underline&#39;</span><span class="p">,</span> <span class="s1">&#39;bold&#39;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_zeros</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">obspyMetadataFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Zeros&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_zeros</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata_zeros</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;underline&#39;</span><span class="p">,</span> <span class="s1">&#39;bold&#39;</span><span class="p">))</span>

        <span class="c1">#Run button frame</span>
        <span class="n">runFrame_set_ppsd</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ppsd_settings_tab</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">runFrame_set_ppsd</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Run&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Run.TButton&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">process_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">settingsProgBar_ppsd</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span><span class="n">runFrame_set_ppsd</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settingsProgBar_ppsd</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        <span class="n">runFrame_set_ppsd</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">runFrame_set_ppsd</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>            
        <span class="n">obspyMetadataFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="c1">#.grid(row=7, column=0, columnspan=6, sticky=&#39;nsew&#39;)#.pack(side=&#39;bottom&#39;, fill=&#39;both&#39;, anchor=&#39;n&#39;, expand=True)</span>
        <span class="n">obspyStatsFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="c1">#.grid(row=6, column=0, columnspan=6, sticky=&#39;nsew&#39;)#.pack(side=&#39;bottom&#39;, fill=&#39;both&#39;, anchor=&#39;n&#39;, expand=True)</span>
        <span class="n">ppsdCallFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="c1">#row=5, column=0, columnspan=6, sticky=&#39;nsew&#39;)#.pack(side=&#39;bottom&#39;, fill=&#39;both&#39;, anchor=&#39;n&#39;, expand=True)</span>
        <span class="n">ppsdParamsFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=5, rowspan=4, sticky=&#39;nsew&#39;)#.pack(side=&#39;right&#39;,fill=&#39;both&#39;, anchor=&#39;n&#39;, expand=True)</span>
        <span class="n">ppsdSettingsFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0, columnspan=4, rowspan=4, sticky=&#39;nsew&#39;)#.pack(side=&#39;left&#39;, fill=&#39;both&#39;, anchor=&#39;n&#39;, expand=True)</span>
    
        <span class="n">ppsd_settings_tab</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">settings_notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ppsd_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;PPSD&quot;</span><span class="p">)</span>

        <span class="c1">#HVSR SETTINGS SUBTAB</span>
        <span class="n">hvsr_settings_tab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">settings_notebook</span><span class="p">)</span>
        
        <span class="n">hvsrSettingsFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">hvsr_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;H/V Processing Settings&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;)</span>
        
        <span class="n">hvsrParamsFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">hvsr_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Process HVSR Parameters&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;)</span>
        
        <span class="c1">#Method selection, method=4</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Horizontal Combine Method [int]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">method_options</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="c1">#Empty to make intuitive and match sprit_hvsr.py</span>
                          <span class="s2">&quot;1.Diffuse Field Assumption (not currently implemented)&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;2. Arithmetic Mean H  (N + E)/2&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;3. Geometric Mean: H  (N  E) (recommended by SESEAME Project (2004))&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;4. Vector Summation: H  (N^2 + E^2)&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;5. Quadratic Mean: H  (N^2 + E^2)/2&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;6. Maximum Horizontal Value: H  max(N, E)&quot;</span>
                          <span class="p">]</span>

        
        <span class="k">def</span> <span class="nf">on_method_select</span><span class="p">(</span><span class="n">meth</span><span class="p">,</span> <span class="n">meth_opts</span><span class="o">=</span><span class="n">method_options</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">method_ind</span> <span class="o">=</span> <span class="n">meth_opts</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">meth</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method_ind</span><span class="p">)</span>
                <span class="n">hCombMethodLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;method=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method_ind</span><span class="p">))</span>
                <span class="n">update_procHVSR_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">procHVSR_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="n">defaultMeth</span><span class="o">=</span><span class="mi">3</span>
        <span class="n">hCombMethodLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;method=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">defaultMeth</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">hCombMethodLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">method_sel</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">method_options</span><span class="p">[</span><span class="n">defaultMeth</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_ind</span> <span class="o">=</span> <span class="n">method_options</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method_sel</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>       
        <span class="bp">self</span><span class="o">.</span><span class="n">method_dropdown</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">OptionMenu</span><span class="p">(</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">method_sel</span><span class="p">,</span> <span class="n">method_options</span><span class="p">[</span><span class="n">defaultMeth</span><span class="p">],</span> <span class="o">*</span><span class="n">method_options</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_method_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_dropdown</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        
        <span class="c1">#smooth=True, </span>
        
        <span class="k">def</span> <span class="nf">curve_smooth</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsmoothbool</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsmoothbool</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">hvSmoothLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;smooth=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsmoothbool</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth_param</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">hvSmoothLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;smooth=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth_param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>              
                <span class="n">update_procHVSR_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">procHVSR_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            
        <span class="n">hvSmoothLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;smooth=True&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">hvSmoothLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Smooth H/V Curve [bool]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hvsmoothbool</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvsmoothbool</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth_param</span><span class="o">=</span><span class="kc">True</span>
        <span class="n">smoothCurveBool</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsmoothbool</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">curve_smooth</span><span class="p">)</span> <span class="c1"># create the Checkbutton widget</span>
        <span class="n">smoothCurveBool</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">51</span><span class="p">)</span>
        <span class="n">smoothCurveSamples</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsmooth</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">curve_smooth</span><span class="p">)</span>
        <span class="n">smoothCurveSamples</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;[int] # pts in smoothing window (default=51)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
        
        <span class="c1">#freq_smooth=&#39;konno ohmachi&#39;, </span>
        <span class="n">freqSmoothLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;freq_smooth=&#39;konno ohmachi&#39;&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">freqSmoothLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        
        <span class="k">def</span> <span class="nf">on_freq_smooth</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freq_smooth</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">freqSmoothLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;freq_smooth=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freq_smooth</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                <span class="n">update_procHVSR_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">procHVSR_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">freq_smooth</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freq_smooth</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;konno ohmachi&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Frequency Smoothing [str]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">fsmoothOptFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Frequency Smoothing Operations&#39;</span><span class="p">)</span>
        <span class="n">fsmoothOptFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">fsmoothOptFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Konno-Ohmachi&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">freq_smooth</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;konno ohmachi&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_freq_smooth</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">fsmoothOptFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Constant&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">freq_smooth</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;constant&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_freq_smooth</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">fsmoothOptFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">freq_smooth</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;proportional&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_freq_smooth</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">fsmoothOptFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">freq_smooth</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_freq_smooth</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1">#f_smooth_width=40, </span>
        <span class="n">fSmoothWidthlabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;f_smooth_width=40&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">fSmoothWidthlabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        
        <span class="k">def</span> <span class="nf">on_smooth_width</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fSmoothWidth</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
                <span class="n">fSmoothWidthlabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;f_smooth_width=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fSmoothWidth</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>                
                <span class="n">update_procHVSR_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">procHVSR_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Bandwidth of freq. smoothing [int]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fSmoothWidth</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fSmoothWidth</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
        <span class="n">fSmoothWidthEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fSmoothWidth</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_smooth_width</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">fSmoothWidthEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        
        <span class="c1">#resample=True, </span>
        <span class="n">resampleLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;resample=True&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">resampleLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="k">def</span> <span class="nf">on_curve_resample</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">resamplebool</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">resampleLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;resample=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resamplebool</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">hvresample_int</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvresample</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">resampleLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;resample=</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvresample</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">hvresample_int</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvresample</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>    
                <span class="n">update_procHVSR_call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">procHVSR_call</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">resamplebool</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resamplebool</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Resample H/V Curve [bool]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">resampleCurveBool</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">compound</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resamplebool</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">on_curve_resample</span><span class="p">)</span> <span class="c1"># create the Checkbutton widget</span>
        <span class="n">resampleCurveBool</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hvresample</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvresample</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvresample_int</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvresample</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">resampleCurveSamples</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvresample</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_curve_resample</span><span class="p">)</span>
        <span class="n">resampleCurveSamples</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;[int] # pts in resampled curve (default=1000)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1">#outlier_curve_std=1.75</span>
        <span class="n">outlierValLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;outlier_curve_std=1.75&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">outlierValLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>        

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Outlier St. Dev. [float]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outlierRemStDev</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">DoubleVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outlierRemStDev</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">1.75</span><span class="p">)</span>
        <span class="n">outlierRemStDev</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">outlierRemStDev</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_outlier_std</span><span class="p">)</span>
        <span class="n">outlierRemStDev</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="n">separator</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="n">separator</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1">#hvsr_band=[0.4, 40]</span>
        <span class="n">hvsrBandLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;hvsr_band=[0.4,40]&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">hvsrBandLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;HVSR Band [Hz]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

        <span class="n">hvsr_band_min_settingsEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_min</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_hvsrband_update</span><span class="p">)</span>
        <span class="n">hvsr_band_min_settingsEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="n">hvsr_band_max_settingsEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsrBand_max</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_hvsrband_update</span><span class="p">)</span>
        <span class="n">hvsr_band_max_settingsEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
   
        <span class="c1">#peak_freq_range=[0.4, 40]</span>
        <span class="n">peakFreqRangeLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrParamsFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;peak_freq_range=[0.4,40]&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">peakFreqRangeLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Peak Frequency Range [Hz]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

        <span class="n">hvsr_band_min_settingsEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_min</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_peakFreqRange_update</span><span class="p">)</span>
        <span class="n">hvsr_band_min_settingsEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="n">hvsr_band_max_settingsEntry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">hvsrSettingsFrame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">peakFreqRange_max</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_peakFreqRange_update</span><span class="p">)</span>
        <span class="n">hvsr_band_max_settingsEntry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
       
        <span class="c1">#Process HVSR Function Call</span>
        <span class="n">hvsrCallFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">hvsr_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;sprit_hvsr.process_hvsr() Call&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">procHVSR_call</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">hvsrCallFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;process_hvsr(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="se">\n\t</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span>
                  <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;hvsr_data&#39;</span><span class="p">,</span> <span class="n">hCombMethodLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">hvSmoothLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">freqSmoothLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">fSmoothWidthlabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">resampleLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> 
                           <span class="n">outlierValLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">hvsrBandLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">procHVSR_call</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

        
        <span class="k">def</span> <span class="nf">update_procHVSR_call</span><span class="p">(</span><span class="n">procHVSR_call</span><span class="p">):</span>
            <span class="n">procHVSR_call</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;process_hvsr(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="se">\n\t</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span>
                  <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;hvsr_data&#39;</span><span class="p">,</span> <span class="n">hCombMethodLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">hvSmoothLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">freqSmoothLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">fSmoothWidthlabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">resampleLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> 
                          <span class="n">outlierValLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">hvsrBandLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)))</span>
        
        <span class="c1">#Check Peaks Function Call</span>
        <span class="n">checkPeaksCallFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">hvsr_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;sprit_hvsr.check_peaks() Call&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkPeaks_Call</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">checkPeaksCallFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;check_peaks(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span>
                  <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;hvsr_data&#39;</span><span class="p">,</span> <span class="n">hvsrBandLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">peakFreqRangeLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkPeaks_Call</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

        <span class="c1">#check_peaks(hvsr_dict, hvsr_band=[0.4, 40], peak_water_level=1.8)</span>
        
        <span class="k">def</span> <span class="nf">update_check_peaks_call</span><span class="p">(</span><span class="n">checkPeaks_Call</span><span class="p">):</span>
            <span class="n">checkPeaks_Call</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;check_peaks(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span>
                  <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;hvsr_data&#39;</span><span class="p">,</span> <span class="n">hvsrBandLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">),</span> <span class="n">peakFreqRangeLabel</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)))</span>


        <span class="c1">#Run button frame</span>
        <span class="n">runFrame_set_hvsr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">hvsr_settings_tab</span><span class="p">)</span>
        <span class="n">runFrame_set_hvsr</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">settingsProgBar_hvsr</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span><span class="n">runFrame_set_hvsr</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settingsProgBar_hvsr</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;,expand=True, side=&#39;left&#39;, anchor=&#39;sw&#39;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">runFrame_set_hvsr</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Run&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Run.TButton&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">process_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span><span class="c1">#.pack(side=&#39;bottom&#39;, anchor=&#39;e&#39;)</span>

        <span class="c1">#Pack tab</span>
        <span class="n">runFrame_set_hvsr</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>    
        <span class="n">checkPeaksCallFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span><span class="c1">#.grid(row=10, column=0, columnspan=6, sticky=&#39;nsew&#39;)#.pack(side=&#39;bottom&#39;, fill=&#39;both&#39;, anchor=&#39;n&#39;, expand=True)</span>
        <span class="n">hvsrCallFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span><span class="c1">#.grid(row=9, column=0, columnspan=6, sticky=&#39;nsew&#39;)#.pack(side=&#39;bottom&#39;, fill=&#39;both&#39;, anchor=&#39;n&#39;, expand=True)</span>
        <span class="n">hvsrParamsFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=6, rowspan=4, sticky=&#39;nsew&#39;)#.pack(side=&#39;right&#39;,fill=&#39;both&#39;, anchor=&#39;n&#39;, expand=True)</span>
        <span class="n">hvsrSettingsFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span><span class="c1">#.grid(row=0, column=0, columnspan=6, rowspan=4, sticky=&#39;nsew&#39;)#.pack(fill=&#39;both&#39;, expand=True)</span>
        
        <span class="n">hvsr_settings_tab</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>           
        <span class="n">settings_notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">hvsr_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;HVSR Settings&quot;</span><span class="p">)</span>

        <span class="c1">#PLOT SETTINGS TAB</span>
        <span class="n">plot_settings_tab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">settings_notebook</span><span class="p">)</span>

        <span class="c1"># Create the Plot Options LabelFrame</span>
        <span class="n">plot_options_frame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">plot_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Plot Options&quot;</span><span class="p">)</span>

        
        <span class="k">def</span> <span class="nf">update_hvplot_call</span><span class="p">():</span>
            <span class="n">kindstr</span> <span class="o">=</span> <span class="n">get_kindstr</span><span class="p">()</span>
            <span class="n">hvplot_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;plot_hvsr(</span><span class="si">{}</span><span class="s2">, plot_type=</span><span class="si">{}</span><span class="s2">, xtype=&#39;</span><span class="si">{}</span><span class="s2">&#39;, show_legend=</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;hvsr_data&#39;</span><span class="p">,</span> <span class="n">kindstr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_type</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_legend</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="s1">&#39;[...]&#39;</span><span class="p">,</span> <span class="s1">&#39;kwargs&#39;</span><span class="p">))</span>

        <span class="c1"># Create the Checkbuttons for the plot options</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;HVSR Plot&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Components H/V Plot&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Spectrogram Plot&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_chart_bool</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_chart_bool</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_chart_bool</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ind_comp_chart_bool</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ind_comp_chart_bool</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ind_comp_chart_bool</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spec_chart_bool</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spec_chart_bool</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">spec_chart_bool</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="c1">#Separate component chart: c+</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Show Components on same chart as H/V Curve:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        
        <span class="k">def</span> <span class="nf">disable_comp_buttons</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_comp_with_hv</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_comp</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_comp</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">bestPeakCompButton</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span> 
                <span class="n">bestPeakCompAnnButton</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;disabled&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">bestPeakCompButton</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span> 
                <span class="n">bestPeakCompAnnButton</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">)</span>
            <span class="n">update_hvplot_call</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_comp_with_hv</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_comp_with_hv</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_comp_with_hv</span><span class="p">,</span> 
                        <span class="n">command</span><span class="o">=</span><span class="n">disable_comp_buttons</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1">#Show Best Peak: p</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Show Best Peak:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_hv</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_hv</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_hv</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_comp</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_comp</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">bestPeakCompButton</span><span class="o">=</span><span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_comp</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span>
        <span class="n">bestPeakCompButton</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_spec</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_spec</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_spec</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1">#Annotate Best Peak: ann</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Annotate Best Peak:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_hv</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_hv</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_hv</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_comp</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_comp</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">bestPeakCompAnnButton</span><span class="o">=</span><span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_comp</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span>
        <span class="n">bestPeakCompAnnButton</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_spec</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_spec</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_spec</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>


        <span class="c1">#Show all peaks (main H/V curve): all</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Show All Peaks (H/V Curve):&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_all_peaks_hv</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_all_peaks_hv</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_all_peaks_hv</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1">#Show all curves: t</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Show All H/V Curves:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_ind_curves</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_ind_curves</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_ind_curves</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1">#Show individual peaks (tp): tp</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Show Individual Peaks:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_ind_peaks</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_ind_peaks</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_ind_peaks</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1">#Show individual peaks (tp): tp</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Show Standard Deviation:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_stDev_hv</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_stDev_hv</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_stDev_hv</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_stDev_comp</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_stDev_comp</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_stDev_comp</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Show Legend:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_legend</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_legend</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_legend</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>


        <span class="c1">#Specify X-Type</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;X Type:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x_type</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x_type</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;freq&#39;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_type</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Period&#39;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x_type</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;period&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_hvplot_call</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1">#kwargs</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Matplotlib Keyword Arguments (not implemented):&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plot_kwargs</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_kwargs</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;cmap=&#39;turbo&#39;&quot;</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">plot_options_frame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">plot_options_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="c1">#.grid(row=1, column=0, padx=10, pady=10, sticky=&quot;nsew&quot;)</span>

        <span class="c1"># Create the plot_hvsr Call LabelFrame</span>
        <span class="n">hvplot_call_frame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="n">plot_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;plot_hvsr() Call&quot;</span><span class="p">)</span>

        <span class="c1">#HVSR</span>
        
        <span class="k">def</span> <span class="nf">get_kindstr</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_chart_bool</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="n">kindstr_hv</span> <span class="o">=</span> <span class="s1">&#39;HVSR&#39;</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_hv</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_hv</span> <span class="o">=</span> <span class="n">kindstr_hv</span> <span class="o">+</span> <span class="s1">&#39; p&#39;</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_hv</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_hv</span> <span class="o">=</span> <span class="n">kindstr_hv</span> <span class="o">+</span> <span class="s1">&#39; ann&#39;</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_all_peaks_hv</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_hv</span> <span class="o">=</span> <span class="n">kindstr_hv</span> <span class="o">+</span> <span class="s1">&#39; all&#39;</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_ind_curves</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_hv</span> <span class="o">=</span> <span class="n">kindstr_hv</span> <span class="o">+</span> <span class="s1">&#39; t&#39;</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_ind_peaks</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_hv</span> <span class="o">=</span> <span class="n">kindstr_hv</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;tp&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="s1">&#39;tp&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kindstr_hv</span><span class="p">:</span>
                        <span class="n">kindstr_hv</span> <span class="o">=</span> <span class="n">kindstr_hv</span><span class="o">+</span> <span class="s1">&#39; tp&#39;</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_stDev_hv</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_hv</span> <span class="o">=</span> <span class="n">kindstr_hv</span> <span class="o">+</span> <span class="s1">&#39; -s&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">kindstr_hv</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

            <span class="c1">#Comp</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ind_comp_chart_bool</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="n">kindstr_c</span> <span class="o">=</span> <span class="s1">&#39;c&#39;</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_comp_with_hv</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_c</span> <span class="o">=</span> <span class="n">kindstr_c</span> <span class="o">+</span> <span class="s1">&#39;+&#39;</span>

                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_comp</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                        <span class="n">kindstr_c</span> <span class="o">=</span> <span class="n">kindstr_c</span> <span class="o">+</span> <span class="s1">&#39; p&#39;</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_comp</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                        <span class="n">kindstr_c</span> <span class="o">=</span> <span class="n">kindstr_c</span> <span class="o">+</span> <span class="s1">&#39; ann&#39;</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_stDev_comp</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_c</span> <span class="o">=</span> <span class="n">kindstr_c</span> <span class="o">+</span> <span class="s1">&#39; -s&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">kindstr_c</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

            <span class="c1">#Specgram</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">spec_chart_bool</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="n">kindstr_spec</span> <span class="o">=</span> <span class="s1">&#39;Spec&#39;</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_best_peak_spec</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_spec</span> <span class="o">=</span> <span class="n">kindstr_spec</span> <span class="o">+</span> <span class="s1">&#39; p&#39;</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">annotate_best_peak_spec</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="n">kindstr_spec</span> <span class="o">=</span> <span class="n">kindstr_spec</span> <span class="o">+</span> <span class="s1">&#39; ann&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">kindstr_spec</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="n">kindstr</span> <span class="o">=</span> <span class="n">kindstr_hv</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span>  <span class="n">kindstr_c</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">kindstr_spec</span>
            <span class="k">return</span> <span class="n">kindstr</span>
        

        <span class="c1"># Add a Label widget to the plot_hvsr Call Label section</span>
        <span class="n">hvplot_label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">hvplot_call_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;plot_hvsr(</span><span class="si">{}</span><span class="s2">, remove_method=&#39;</span><span class="si">{}</span><span class="s2">&#39;, xtype=&#39;</span><span class="si">{}</span><span class="s2">&#39;, show_legend=</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;hvsr_data&#39;</span><span class="p">,</span> <span class="n">get_kindstr</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_type</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_legend</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="s1">&#39;[...]&#39;</span><span class="p">,</span> <span class="s1">&#39;kwargs&#39;</span><span class="p">))</span>

        <span class="c1">#Run button frame</span>
        <span class="n">runFrame_set_plot</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">plot_settings_tab</span><span class="p">)</span>
        <span class="n">runFrame_set_plot</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">settingsProgBar_plot</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span><span class="n">runFrame_set_plot</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settingsProgBar_plot</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;,expand=True, side=&#39;left&#39;, anchor=&#39;sw&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">runFrame_set_plot</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Run&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Run.TButton&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">process_data</span><span class="p">)</span>

        
        <span class="k">def</span> <span class="nf">update_results_plot</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span><span class="p">)</span>
            <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">plot_hvsr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">,</span> <span class="n">plot_type</span><span class="o">=</span><span class="n">get_kindstr</span><span class="p">(),</span> <span class="n">fig</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_results</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_results</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_legend</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">use_subplots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clear_fig</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_results_plot_button</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">runFrame_set_plot</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Update Plot&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Noise.TButton&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">update_results_plot</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_results_plot_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span><span class="c1">#pack(side=&#39;right&#39;, anchor=&#39;se&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span><span class="c1">#(side=&#39;right&#39;, anchor=&#39;se&#39;, padx=(10,0))</span>

        <span class="n">runFrame_set_plot</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
        <span class="n">hvplot_label</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="c1">#.grid(column=0, row=0, padx=10, pady=10, sticky=&quot;w&quot;)</span>
        <span class="n">hvplot_call_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="c1">#.grid(row=2, column=0, padx=10, pady=10, sticky=&quot;nsew&quot;)</span>

        <span class="n">plot_settings_tab</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">settings_notebook</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">plot_settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Plot Settings&quot;</span><span class="p">)</span>

        <span class="c1"># Pack the settings Notebook widget</span>
        <span class="n">settings_notebook</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Settings&quot;</span><span class="p">)</span>

        <span class="c1"># RESULTS TAB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;site&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">}</span><span class="c1">#Just initialize for now</span>

        <span class="c1"># Create the Batch Site selection LabelFrame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;HVSR Results&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Select Site &#39;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">on_site_select</span><span class="p">():</span>
            <span class="n">sitename</span> <span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selectedSite</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span> 
                <span class="n">report_results</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">[</span><span class="n">sitename</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">sitename</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">messagebox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;WARNING&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Site </span><span class="si">{</span><span class="n">sitename</span><span class="si">}</span><span class="s2"> does not exist&quot;</span><span class="p">)</span>
                                                   
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">,</span> <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">HVSRBatch</span><span class="p">):</span>
            <span class="n">sites</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="o">.</span><span class="n">sites</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sites</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">[</span><span class="s1">&#39;site&#39;</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_options</span> <span class="o">=</span> <span class="n">sites</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectedSite</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">sites</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_dropdown</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Combobox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectFrame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selectedSite</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">site_options</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s1">&#39;focusout&#39;</span><span class="p">,</span> <span class="n">validatecommand</span><span class="o">=</span><span class="n">on_site_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_dropdown</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">site_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">browse_results_fig</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Update site&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">on_site_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browse_results_fig</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>


        <span class="k">def</span> <span class="nf">update_site_dropdown</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">site_dropdown</span><span class="p">[</span><span class="s1">&#39;values&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">site_options</span>


        <span class="c1">#lambda value=string: self.om_variable.set(value)</span>
        <span class="c1"># Create the plot_hvsr Call LabelFrame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_chartFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Data Plots&quot;</span><span class="p">)</span>

        <span class="c1">#Set up plot     </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig_results</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">results_mosaic</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;hvsr&#39;</span><span class="p">],[</span><span class="s1">&#39;comp&#39;</span><span class="p">],[</span><span class="s1">&#39;spec&#39;</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig_results</span><span class="o">.</span><span class="n">subplot_mosaic</span><span class="p">(</span><span class="n">results_mosaic</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">results_canvas</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_results</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">results_chartFrame</span><span class="p">)</span>  <span class="c1"># A tk.DrawingArea.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_canvasWidget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">results_canvas</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar2Tk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">results_chartFrame</span><span class="p">,</span> <span class="n">pack_toolbar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_toolbar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_toolbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_canvasWidget</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1">#Peak report</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Peak Report&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTitleLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Criteria for Reliable H/V Curve (all 3 must pass)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Window Length for Frequency&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1ResultFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1ResultText</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">curveTest1ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1Result</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">curveTest1ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Number of Significant Cycles&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2ResultFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2ResultText</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">curveTest2ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2Result</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">curveTest2ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Low Curve Standard Deviation for Frequencies Near Peak Over Time&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3ResultFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3ResultText</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">curveTest3ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3Result</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">curveTest3ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">totalCurveResult</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">peakTitleLabel</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Criteria for a Clear H/V Peak (5/6 must pass)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;H/V Amplitude is low Below Peak Frequency&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1ResultFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1ResultText</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest1ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1Result</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest1ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;H/V Amplitude is low Above Peak Frequency&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2ResultFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2ResultText</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest2ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2Result</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest2ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Peak is Prominent&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3ResultFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3ResultText</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest3ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3Result</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest3ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Frequency of Peak is Stationary Over Time&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4ResultFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4ResultText</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest4ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4Result</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest4ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Standard Deviation of Peak Frequency is low &#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5ResultFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5ResultText</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest5ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5Result</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest5ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6Label</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Standard Deviation of Peak Amplitude is low&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6ResultFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6ResultText</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest6ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6Result</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peakTest6ResultFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">totalPeakResult</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">totalResult</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">curveTitleLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTitleLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;underline&#39;</span><span class="p">,</span> <span class="s1">&#39;bold&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1ResultFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1ResultText</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest1Result</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2ResultFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2ResultText</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest2Result</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3ResultFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3ResultText</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curveTest3Result</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">totalCurveResult</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span> <span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTitleLabel</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTitleLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;TkDefaultFont&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;underline&#39;</span><span class="p">,</span> <span class="s1">&#39;bold&#39;</span><span class="p">))</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1ResultFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1ResultText</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest1Result</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2ResultFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2ResultText</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest2Result</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3ResultFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3ResultText</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest3Result</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4ResultFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4ResultText</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest4Result</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5ResultFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5ResultText</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest5Result</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6Label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">21</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6ResultFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6ResultFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6ResultText</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">peakTest6Result</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">totalPeakResult</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span> <span class="p">)</span>

        <span class="n">ttk</span><span class="o">.</span><span class="n">Separator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">totalResult</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span> <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">resultsProgBar</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resultsProgBar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">26</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>

        <span class="c1">#Export results</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Export Results&quot;</span><span class="p">)</span>
        
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Export Figure&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_fig_dir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_fig_dir_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">results_fig_dir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_fig_dir_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        
        <span class="k">def</span> <span class="nf">filepath_results_fig</span><span class="p">():</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">defaultextension</span><span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="n">initialdir</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">get</span><span class="p">())</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">initialfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;site&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;_results.png&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_fig_dir_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_fig_dir_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>
           
        <span class="k">def</span> <span class="nf">save_results_fig</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_ind_subplots</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig_results</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_fig_dir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_results</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">extent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_results</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">get_tightbbox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_results</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">renderer</span><span class="p">)</span><span class="o">.</span><span class="n">transformed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig_results</span><span class="o">.</span><span class="n">dpi_scale_trans</span><span class="o">.</span><span class="n">inverted</span><span class="p">())</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fig_results</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_fig_dir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span><span class="o">+</span><span class="s1">&#39;/Subplot&#39;</span><span class="o">+</span><span class="n">key</span><span class="o">+</span><span class="s1">&#39;.png&#39;</span><span class="p">,</span>  <span class="n">bbox_inches</span><span class="o">=</span><span class="n">extent</span><span class="p">)</span>
        

        <span class="bp">self</span><span class="o">.</span><span class="n">browse_results_fig</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Browse&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">filepath_results_fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browse_results_fig</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">save_results_fig</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">save_results_fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_results_fig</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>

        <span class="c1">#Save subplots individually</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_ind_subplots</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_ind_subplots</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save ind. subplots&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_ind_subplots</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1">#Export Peak Report        </span>
        <span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Export Peak Report&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_report_dir</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_report_dir_entry</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="p">,</span> <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">results_report_dir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_report_dir_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        
        <span class="k">def</span> <span class="nf">filepath_report_fig</span><span class="p">():</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">defaultextension</span><span class="o">=</span><span class="s1">&#39;csv&#39;</span><span class="p">,</span> <span class="n">initialdir</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">get</span><span class="p">())</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">initialfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;site&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;_peakReport.csv&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_report_dir_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_report_dir_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>
        
        <span class="k">def</span> <span class="nf">save_report_fig</span><span class="p">():</span>
            <span class="n">sprit_hvsr</span><span class="o">.</span><span class="n">get_report</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hvsr_results</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;plot&#39;</span><span class="p">,</span>  <span class="n">export</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">results_report_dir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">browse_results_fig</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Browse&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">filepath_report_fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browse_results_fig</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">save_results_fig</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">save_report_fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_results_fig</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">results_siteSelectFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ew&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_peakInfoFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>  <span class="n">column</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span><span class="c1">#.pack(side=&#39;right&#39;, fill=&#39;both&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_chartFrame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>     <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span><span class="c1">#.pack(side=&#39;top&#39;, expand=True, fill=&#39;both&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_export_Frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>   <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span><span class="n">rowspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span><span class="c1">#.pack(side=&#39;bottom&#39;, fill=&#39;x&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        

        <span class="c1"># LOG TAB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_tab</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="p">)</span>
        
        <span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">scrolledtext</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logFrame</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Log&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logFrame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logFrame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span> <span class="o">=</span> <span class="n">scrolledtext</span><span class="o">.</span><span class="n">ScrolledText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logFrame</span><span class="p">,</span> <span class="n">wrap</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">WORD</span><span class="p">)</span><span class="c1">#, width=200, height=50)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Courier&quot;</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
        <span class="c1">#text_area.grid(row=0, column=0, sticky=&#39;nsew&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;, expand=True)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logProgBar</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logFrame</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logProgBar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;nsew&#39;</span><span class="p">)</span>

        <span class="n">introLogText</span> <span class="o">=</span> <span class="s2">&quot;Log of active session:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_text</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">introLogText</span><span class="p">)</span>
        <span class="c1">#log_text.configure(bg=&#39;black&#39;, fg=&#39;white&#39;)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">logFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="c1">#.pack(fill=&#39;both&#39;, expand=True, side=&#39;top&#39;, anchor=&#39;nw&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_tab</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;nw&#39;</span><span class="p">)</span>
        
        <span class="c1"># Add log tab to tab control</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Log&quot;</span><span class="p">)</span>
        <span class="c1"># Add result tab to tab control</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_tab</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Results&quot;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="s1">&#39;|&#39;</span><span class="p">))</span>

        <span class="c1"># Pack tab control</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_control</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">)</span></div>
</div>



<span class="c1">#Decorator that catches errors and warnings (to be modified later for gui)</span>
<div class="viewcode-block" id="catch_errors">
<a class="viewcode-back" href="../../sprit.sprit_tkinter_ui.html#sprit.catch_errors">[docs]</a>
<span class="k">def</span> <span class="nf">catch_errors</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">spritApp</span>

    <span class="c1">#Define a local function to get a list of warnings that we&#39;ll use in the output</span>
    <span class="k">def</span> <span class="nf">get_warning_msg_list</span><span class="p">(</span><span class="n">w</span><span class="p">):</span>
        <span class="n">messageList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1">#Collect warnings that happened before we got to the error</span>
        <span class="k">if</span> <span class="n">w</span><span class="p">:</span>
            <span class="n">hasWarnings</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">for</span> <span class="n">wi</span> <span class="ow">in</span> <span class="n">w</span><span class="p">:</span>
                <span class="n">warning_category</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">wi</span><span class="o">.</span><span class="n">message</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;warning&#39;</span><span class="p">,</span><span class="s1">&#39;Warning&#39;</span><span class="p">)</span>
                <span class="c1">#if w.line is None:</span>
                <span class="c1">#    w.line = linecache.getline(wi.filename, wi.lineno)</span>
                <span class="n">warning_lineNo</span> <span class="o">=</span> <span class="n">wi</span><span class="o">.</span><span class="n">lineno</span>
                <span class="n">warning_message</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">wi</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
                <span class="c1"># append the warning category and message to messageList so we get all warnings</span>
                <span class="n">messageList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">warning_category</span><span class="si">}</span><span class="s1"> (</span><span class="si">{</span><span class="n">warning_lineNo</span><span class="si">}</span><span class="s1">): </span><span class="si">{</span><span class="n">warning_message</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">messageList</span>
    
    <span class="c1"># use functools.wraps to preserve the original function&#39;s metadata</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># use the global keyword to access the error_message and error_category variables</span>
        <span class="k">global</span> <span class="n">error_message</span>
        <span class="k">global</span> <span class="n">error_category</span>
        <span class="k">global</span> <span class="n">spritApp</span>

        <span class="n">messageList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">hasWarnings</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># use a try-except block to catch any exceptions</span>
        <span class="c1">#result = func(*args, **kwargs)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># use a context manager to catch any warnings</span>
            <span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">w</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;always&#39;</span><span class="p">)</span>
                <span class="c1"># call the original function with the given arguments</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                
                <span class="c1">#Get message list, [] if no messages, doesn&#39;t run at all if Error/exception in func</span>
                <span class="n">messageList</span> <span class="o">=</span> <span class="n">get_warning_msg_list</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">messageList</span> <span class="o">==</span> <span class="p">[]:</span>
                    <span class="k">return</span> <span class="n">result</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">warningMessage</span> <span class="o">=</span> <span class="s2">&quot;WARNING:&quot;</span>
                    <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">messageList</span><span class="p">:</span>
                        <span class="n">warningMessage</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

                    <span class="n">messagebox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;WARNINGS&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">warningMessage</span><span class="p">)</span>
                    
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">messageList</span> <span class="o">=</span> <span class="n">get_warning_msg_list</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
            <span class="n">errorObj</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>

            <span class="n">mainErrText</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>

            <span class="n">mainErrTb</span> <span class="o">=</span> <span class="n">traceback</span><span class="o">.</span><span class="n">extract_tb</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">2</span><span class="p">])[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">mainErrFilePath</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">mainErrTb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            
            <span class="n">mainErrFileName</span> <span class="o">=</span> <span class="n">mainErrFilePath</span><span class="o">.</span><span class="n">stem</span>
            <span class="n">mainErrLineNo</span> <span class="o">=</span> <span class="n">mainErrTb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">mainErrFunc</span> <span class="o">=</span> <span class="n">mainErrTb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">mainErrCodeLine</span> <span class="o">=</span> <span class="n">mainErrTb</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

            <span class="n">errLineNo1</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">extract_tb</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">2</span><span class="p">])[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lineno</span><span class="p">)</span>
            <span class="n">error_category</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">)</span>
            <span class="n">error_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">errLineNo1</span><span class="si">}</span><span class="s2">)&quot;</span>
            
            <span class="c1">#Get message list, [] if no messages, doesn&#39;t run at all if Error/exception in func</span>
            <span class="n">warningMessageList</span> <span class="o">=</span> <span class="n">get_warning_msg_list</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

            <span class="c1">#Build error messages</span>
            <span class="n">tbTuple0</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">tbTuple1</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">tbTuple2</span> <span class="o">=</span> <span class="n">traceback</span><span class="o">.</span><span class="n">extract_tb</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">2</span><span class="p">])</span>
            
            <span class="n">logMsg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;**ERROR**</span><span class="se">\n</span><span class="si">{</span><span class="n">tbTuple0</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">tbTuple1</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">dialogErrMsg</span> <span class="o">=</span> <span class="n">logMsg</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">tb</span> <span class="ow">in</span> <span class="n">tbTuple2</span><span class="p">:</span>
                <span class="n">logMsg</span> <span class="o">=</span> <span class="n">logMsg</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\t</span><span class="s1">&#39;</span>
                <span class="n">logMsg</span> <span class="o">=</span> <span class="n">logMsg</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">tb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">tb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">(): </span><span class="si">{</span><span class="n">tb</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2"> (Line </span><span class="si">{</span><span class="n">tb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span>
                <span class="n">dialogErrMsg</span> <span class="o">=</span> <span class="n">dialogErrMsg</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">tb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">tb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">(), Line </span><span class="si">{</span><span class="n">tb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">logMsg</span> <span class="o">=</span> <span class="n">logMsg</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>

            <span class="c1">#fullErrorMessage = f&#39;ERROR {mainErrFileName}.{mainErrFunc} ({mainErrLineNo}): {mainErrText} \n\n {mainErrFileName} Line {mainErrLineNo}: {mainErrCodeLine}.&#39;</span>
            <span class="k">if</span> <span class="n">messageList</span> <span class="o">==</span> <span class="p">[]:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dialogErrMsg</span> <span class="o">=</span> <span class="n">dialogErrMsg</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">  Additional Warnings along the way. See Log for more information.&quot;</span>
                <span class="n">logMsg</span> <span class="o">=</span> <span class="n">logMsg</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n\t</span><span class="s2">  *WARNING(S)*</span><span class="se">\n\t</span><span class="s2">Additional Warnings along the way:&quot;</span>
                <span class="k">for</span> <span class="n">addMsg</span> <span class="ow">in</span> <span class="n">warningMessageList</span><span class="p">:</span>
                    <span class="n">logMsg</span> <span class="o">=</span> <span class="n">logMsg</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n\t\t</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">addMsg</span><span class="p">)</span>


            <span class="n">SPRIT_App</span><span class="o">.</span><span class="n">log_errorMsg</span><span class="p">(</span><span class="n">spritApp</span><span class="p">,</span> <span class="n">logMsg</span><span class="p">)</span>

            <span class="n">messagebox</span><span class="o">.</span><span class="n">showerror</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;ERROR (</span><span class="si">{</span><span class="n">error_category</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span>
                                    <span class="n">message</span><span class="o">=</span><span class="n">dialogErrMsg</span><span class="p">)</span>
            <span class="n">update_progress_bars</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

        <span class="c1"># return the result of the function or the error/warning messages and categories</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="c1"># return the wrapper function</span>
    <span class="k">return</span> <span class="n">wrapper</span></div>


<div class="viewcode-block" id="on_closing">
<a class="viewcode-back" href="../../sprit.sprit_tkinter_ui.html#sprit.on_closing">[docs]</a>
<span class="k">def</span> <span class="nf">on_closing</span><span class="p">():</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span></div>


<div class="viewcode-block" id="reboot_app">
<a class="viewcode-back" href="../../sprit.sprit_tkinter_ui.html#sprit.reboot_app">[docs]</a>
<span class="k">def</span> <span class="nf">reboot_app</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Restarts the current program.</span>
<span class="sd">    Note: this function does not return. Any cleanup action (like</span>
<span class="sd">    saving data) must be done before calling this function.&quot;&quot;&quot;</span>
    <span class="n">python</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">executable</span>
    <span class="n">os</span><span class="o">.</span><span class="n">execl</span><span class="p">(</span><span class="n">python</span><span class="p">,</span> <span class="n">python</span><span class="p">,</span> <span class="o">*</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">can_gui</span> <span class="o">=</span> <span class="n">sprit_utils</span><span class="o">.</span><span class="n">check_gui_requirements</span><span class="p">()</span>  

    <span class="k">if</span> <span class="n">can_gui</span><span class="p">:</span>
        <span class="k">global</span> <span class="n">root</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">icon_path</span> <span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">pkg_resources</span><span class="o">.</span><span class="n">resource_filename</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;resources/icon/sprit_icon_alpha.ico&#39;</span><span class="p">))</span> 
                <span class="n">root</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">icon_path</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">icon_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">pkg_resources</span><span class="o">.</span><span class="n">resource_filename</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;resources/icon/sprit_icon.png&#39;</span><span class="p">))</span>
                <span class="n">root</span><span class="o">.</span><span class="n">iconphoto</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">icon_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ICON NOT LOADED, still opening GUI&quot;</span><span class="p">)</span>

        <span class="n">root</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">spritApp</span> <span class="o">=</span> <span class="n">SPRIT_App</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="n">root</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="n">on_closing</span><span class="p">)</span>
        <span class="n">root</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;GUI cannot be created&quot;</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Author.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>